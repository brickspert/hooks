(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"./src/useAsync/index.mdx":function(e,n,t){"use strict";t.r(n),t.d(n,"default",function(){return O});var a,A=t("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/slicedToArray.js"),r=(t("./node_modules/_antd@3.22.0@antd/es/message/style/index.js"),t("./node_modules/_antd@3.22.0@antd/es/message/index.js")),o=(t("./node_modules/_antd@3.22.0@antd/es/input/style/index.js"),t("./node_modules/_antd@3.22.0@antd/es/input/index.js")),i=(t("./node_modules/_antd@3.22.0@antd/es/form/style/index.js"),t("./node_modules/_antd@3.22.0@antd/es/form/index.js")),s=(t("./node_modules/_antd@3.22.0@antd/es/spin/style/index.js"),t("./node_modules/_antd@3.22.0@antd/es/spin/index.js")),c=(t("./node_modules/_antd@3.22.0@antd/es/button/style/index.js"),t("./node_modules/_antd@3.22.0@antd/es/button/index.js")),l=t("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/objectWithoutProperties.js"),g=t("react"),u=t.n(g),b=t("./node_modules/_@mdx-js_react@1.3.1@@mdx-js/react/dist/index.es.js"),m=t("./node_modules/_docz@1.2.0@docz/dist/index.esm.js"),d=(t("./node_modules/_antd@3.22.0@antd/es/select/style/index.js"),t("./src/useAsync/index.ts")),j=(a="Demo",{}),p="wrapper";function O(e){var n=e.components,t=Object(l.a)(e,["components"]);return Object(b.b)(p,Object.assign({},j,t,{components:n,mdxType:"MDXLayout"}),Object(b.b)("h1",{id:"useasync"},"useAsync"),Object(b.b)("p",null,"\u4e00\u4e2a\u5e2e\u4f60\u7ba1\u7406\u5f02\u6b65\u51fd\u6570\u7684 Hook\uff0c\u652f\u6301\u7acb\u5373\u6267\u884c\uff0c\u624b\u52a8\u89e6\u53d1\u6267\u884c\uff0c\u8f6e\u8be2\u3002"),Object(b.b)("h2",{id:"\u4ee3\u7801\u6f14\u793a"},"\u4ee3\u7801\u6f14\u793a"),Object(b.b)("h3",{id:"\u7acb\u5373\u6267\u884c"},"\u7acb\u5373\u6267\u884c"),Object(b.b)(m.c,{__position:0,__code:"() => {\n  function getEmail(id) {\n    return fetch(`https://randomuser.me/api?id=${id}`).then(res => res.json())\n  }\n\n  function Demo() {\n    const [state, set] = useState(0)\n    const { data, loading, cancel, run } = useAsync(() => getEmail(state), [\n      state,\n    ])\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n\n    return (\n      <>\n        <Spin spinning={loading}>\n          <div>id: {state}</div> <div>email: {email}</div>\n        </Spin>\n        <Button.Group style={{ marginTop: 16 }}>\n          <Button onClick={run}>reload</Button>\n          <Button onClick={cancel}>cancel</Button>\n          <Button onClick={() => set(c => c + 1)}>increase id</Button>\n        </Button.Group>\n      </>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:t,Playground:m.c,useState:g.useState,useMemo:g.useMemo,Button:c.a,Spin:s.a,Form:i.a,Input:o.a,message:r.a,useAsync:d.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNAlgAMSFIglgaVAZnCJYjzgCo0lQ9CGPcAh0GY_C5UU9BPTgSQiNgSVtIIRJfRVVA8PVQiYAAQTgRJUHIeT3W0gRyEkCirJs5zVGwFSzMDSV7MYxUwVs6gUWOU4sJIwz4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZxSgAWLL2AANiynL1jAYD-O9aBEhS_hnEOBEHUwGChH4STqEoOB8oRarq1qmhnAgLDLnYABGYrcvkILdFCiy5hi9gIyg8gbCgdAw1QjkYrEdboxkdgUSi7hgGwyKsXkLca2ALboF24IADJXvGRJ5koZonp2vbuEBuUwGQyUBlQdp2AAfg2Z6wwjA6rj-l7UAW6spBkKs3zMGEzMwMAwigKYEcO470ZW5dqwsYASe4I7gBXCwQds7tzFPM8omgCMuAOhmqZrCwugIPpzDAUctojYpCFue5HkyDBIgogQcCPSRZggKGuG4AASYAuHkYoORwCY6AjLo7DpxmBYneB_zgagEdy62azfZ20at5mweZLVqMoEm-ediwlqmABtFEyLO0cAF01ookisgjVLXcD4PWOOaJXCWKBKA7AoljiWz5yWNFzDQ2LXOs2yI1po72c5qAI3D2gOSWEOrYFpuYCdwOo-T53U-o1xoFjoiqJoqN-edmv1ur9AM_YAAfBfWPkI3zdCIm7CX9gQ97kPUpj7fgFXnBB-gbvA53ufSKji_rexyeayFkWycvhN7rf2seLQM7eNQEyZyXWzrnGcd126BxjLILgVxgCd3kBjWMtZMZnygDAlB8CdyyHAQLKQ39UAfzfowdiNxqA4AAOJIRmGdAysBLpQQSklSwlAZhXGmuVVCYDH6XyIRxZk1B7BQFiNsS6Jc7pdGAegKQxDOIEM_jwkh5h-GCJ2JdAuCIoB3TUfOKRvD8HYOtvIziexUACKEZdaeRECARjsnTHo7AADUM0OR3TQOQU0RFOCSMkNI6gsiIHeN0eQyhficGbnAX3GsaNnbPwEOYRgPsaLsDCfzeQUTaySApljMwX4QBwCci5IiblbKSE8rgAgWgKDAX0AwUy9ooI-3mOGWyiQAAytgCDkSIvYeIUAPASm2J04ipFaCDLFGAQZZ4wBiz8nRN0AUXzGTMOQOC0krD8gyIwSw9N1j9jYFkG2nMAGzliqlRZeV-isH2ZgOCyQTlnIsLsy5tAegeCuNXHAHzXCJXuCEVAiRd4HVsdBGU1JNmL1yOGSAzp0BiAOsvVAG8oBrQRQke5fYLn7PDvaO5QUHkYueTEI8Ah7xrVObiwsqAURoklEKaxrz1qAqOsCyIoLLDguQvjNA2QxBLGufBK4CKiCBAELzFcExbChjPkctafLEjGQFuKuAOBZUyvnPBeVNZFU4CxVMWKsqNUWC1YSjIJK9VqrlWKgkHwPBrXIB4DV7tqwomYWtaeAcaw4gViMD45IBCWHWfsCMRr1nEvQB-S1ErjWhtJQa_EEquiHIKGtLV-r1jyDRflCirrGVxX5p6k43rlnij9QG8IQarVRvvOG_mWqE1D2leaWKWosg4FQKMEm5o41Kp1Q6tF68jyuo-TgL5KQflIgBVcZlRBWVHWXhymAULcy2PdYaq1Oq1rNtoK29t1aBb5tGD64t_qjyBuDUSqtsaIDNHLRKu1orH4xPMM6MYU6Z1m3gJQKArBujLvAWek1ORYr7u9ZY49MBA3-Hcgy0mK7A5XvWlqu9ubP6rtvR4CMQ6Iwjq3svAFu6UOPBtvSAdgAr5UAGeRgBF5UAFnagA300ABZqgAAfUANOagBC6Jo4AGH_ACFNoASHNAAr8YAPbVADLfoAHPN9GCw_V-mAE8UM1naAAOWHObT9372CXKgAyPMmxzCCgSAUUStABBqc4ISUcpJyQeKzdQZwoRyAIlWR9agZ4BBCCOGgFE4plIhDsEiO-l98OXzSW7JYtapUFH85E8LgWbbC1iRCzl0Le1mEdbje0aADME3ajqGYrM4CbO2dWKICL4hQyuF4T94pUBKiSZIdggB6M0AGQqgBcJSY4ANGVADmRoAGQidmfsETOfTGQ1MlfYIK4VVXCOADt4wAR9GABC3QAL6mABS0wA19aACXPJkqBrO2fgHAIbEZ0BXEsDm1glAuBjZq4ABCNAD5SvxwAwDFracy5nbU17tCkO8d9Ap32CAEZNQApLE3aS0FAy8xhvCCobFDDnzvlXHHb3UmR2TtLJClMNtzCBUg-zTB9NAOvrdH7CyoiYoYuoDy4OiHo6od_IBaTV9REwVzshVymFxlU64-nfj0cIsrgs-pATkWjAkRHVipB2y0HbEoqRf4X5Fr_TOiwKpNLGQMvdB57EgAavEBkxP3USIKKV4Q5JKvrAyA9q4z2BAauvq4IblgNVaNQcD5hGqS6c5BWzwntO4sLoZ2IDVUaYErmdSw-3MxY39qmsj4PK5M1EVRw7tNxlkuy7xguwmUpQas3MkU8gjAxT0iJmtfn0nDTJXWkO7D5P_kw6BS7mA2f4AbwIDy9YmA7hXAaXQTAzS2mhVirvbuzCctXCyzl2vueG9rWPrlDkVxleoDV-pmvOf6_5aDojnencliWJjuXIi8daC18J3PjXi-iZiAbLB7XRVDTxCInfW3MeZh3yd-ivHMAZ93198h62Af7--aI6EI8zuL-b-VsUeYeIOd8Sgaa-GqcUaI8r-C6myIaI-S-7K9O0KDY86i6YaNuq-VAyEuq5kYyic0Bq-aA442-8BYAQaaIMAJBlKUwMA36Ag0EYQREgGhBC6EYBMUARE1a6wFEky0yVibqK4eBNAHwfQYYUw9isU00l6JkBAEhzmLosUqIDIIe7OsWIhj8YhihvQyhmYMhM0samO1YSgxwMAdwfB1YqcJccB3SCQfSOw7ypOY6FOvck61eyBeedO8W3KMGK4hGgAdh6AC78oALBygAWPICaADVEYAGvKgAEbbTYiaiGr4lyOD4G2ptDiH6FSGxqWKNykwbTsBDpwBZw5yFQpBXBqHdCrzhaPpF7g7DrfIRIWDGxaa7bzy_pcKcDXppFZG6pAy6FKFSH3qfzwYRj97gxKpWY2Z2ZwCjEoaTEhQ4AzGbbSQdGkThZuz6L5EWxHRFElG8oZxlEgKVFX48E1EchbGRLgL1EW6xoWCrxWwfDRASxG5CgBHdHjF9EZGAyxRDE5H6ALGXzjFLGUorGoCm7AlvxgnTGQnOa0rvEioPHWxRbOy7GFFQSHHQgIkCAnEVFXDcEeK1EomPF_p4BCBjBIkomrwOq8qWHzFoqpwB72E9JOHbDVw5qwaMEZAsEUToDDEqHjA0GxoAmSEuhGFyGBE1aACgdoACZpbGdGK44xUagpNA0JhqIaapihAeCMJh_uo4BRtiBxHypROJLmAqMAYwpuj4Ae8wykLc7AF-ZxRJlx-G5hAKTJq-oBrJjh_SnJnxAsPJzBrB2Q2pyaIpKR-B4ZkpsahGgAQWaAA6CoqcqdeqqYCeqZ_gqlqRmYoaAXqSuFFhicaViaaUsEiZadabiY-KAQ6fiTruccSVcXSTvL3F6fQX_gOhQQ4b0v6ULnZI0dhlPl1C_t4VML4Z7ugYGTWIRoAEYGgAsJopn8zjEACEwZfJbB2pGp1W7AgAaZmACE1p1p2d0BxoACl6gA016ADOyp1uxoAPFpgAcCrMZsZWyuAjBDxTAlyDnNH6nLlpk5nimZmwbiaE7jD_kGGKGh6NFYbfKLy4a9yRYrj1GYEM4tmenkqpzy6GbxCZ6-m9nOErj9kl6uFclWy2HITpGZj_H9HakomwAfmjjT514-Ee5YEomrmwkqzuChC9jbwrlkF6EAUEDbnAX55vnjifmYbYawWtnNlWxok9HrRingUxRAw_GAXgKEYkbNYta0Z0bsZhFPk0Z_pgVSHIpWlrJEpjkNj6LTyYVqaZ5fmjotz6IcU6a9YpD9ZYXi52AjYZC_4WDXEWCEaABBmsJoAH3RgAdv6ABhcuwIVtxVAOxoAJhKgAG3mAAl0QZaxkZV8devxeGe9HsNllMZxUVlAMJTOTVq-e-ROMhFBVJdvHhqSTWLlbmWtK6Y1WhPOB4kBdbIRoZfokLKJVVemYJZKsRlJpJTBfVfBe1XJVbPUULCYXfCHK5T1npnoF5UsBxXFfEMXMhLfOsNYSvh2eIuUbheyYXhYI5fMZ4aOcfuOSxV7tOQLIRoAExpgARtaABQcvuYAA6mgAdsYCakXUUtWxlWygmFXLFuVrUGZqZlXsXg3gnbWlVZmBwhXCbcZ9irUzjsYymABgLl9dNkuZ_LqYFahLcZobSOtfZZXOQFddcfJYRoAC9ugApcaAAL8V1g-uTdVagLVZNXBbJSkktSXJtfDUqpDX1pTfEPtdWIdRSqFLbmdf6doQLEpaZSDfzIRhMJSb8uaUKAaVYnsetKWdquWbiZWewDae0LbtkK-PWZfq6ftO6a3G2eSgIVMlsFYiuFdeXpTl0c7GDTljgGLR5RLUjd1RYHZdhdTQWY_B1RcQpRGCuVtVxfEGVYzUzYADwK7Nl8ElHy0Fo60lDVs10u0SnNStKcQNglDishjVxNNJi1K4y1ItxV8VwtAdQdnlamu1XEnAIdmeUtAVfanN5-5RDZncOAzpd8FZ1CLaSJd8FuVwY9Fut-7g6ij-yEVwSdJV7A-VK1um4t0NvYMMoe7AVwJ1HY7-Iafuj8Aev-oev-oBEB3cphaMOSg02wrgaQds1AgEugIEBgYE7q_AqA3ojISA7A_APwxY1QGQ5oP4ZIoD3c_ATB-Q1A_AVw_AqUOAmDqUPU6w_A5QbiEA8NaD4DIAFkZ0eEsA0IWA3o8DFhZIlAiQuYeQSapoko5okDfwpYuD1Y_AhyJD_ApSdsPDFg-Dlh7e8IEA8AJDsG_AbDogYD_AAAemwjgAABw4DlQiM1j8DqQCMgBKNJg4AABMmD002jojggmolokQ-jKj5U6jmj_AaaSWOSUD3gHw1AkAKQX9qAP9VSoEIADMIAtAPoWQaDEDpotA5o8j5oswMw_A8gCgqSQAA",mdxType:"Playground"},function(){return Object(b.b)(function(){var e=Object(g.useState)(0),n=Object(A.a)(e,2),t=n[0],a=n[1],r=Object(d.a)(function(){return fetch("https://randomuser.me/api?id=".concat(t)).then(function(e){return e.json()})},[t]),o=r.data,i=r.loading,l=r.cancel,m=r.run,j=Object(g.useMemo)(function(){return(((o||{}).results||[])[0]||{}).email},[o]);return Object(b.b)(u.a.Fragment,null,Object(b.b)(s.a,{spinning:i,mdxType:"Spin"},Object(b.b)("div",null,"id: ",t)," ",Object(b.b)("div",null,"email: ",j)),Object(b.b)(c.a.Group,{style:{marginTop:16}},Object(b.b)(c.a,{onClick:m,mdxType:"Button"},"reload"),Object(b.b)(c.a,{onClick:l,mdxType:"Button"},"cancel"),Object(b.b)(c.a,{onClick:function(){return a(function(e){return e+1})},mdxType:"Button"},"increase id")))},{mdxType:"Demo"})}),Object(b.b)("h3",{id:"\u624b\u52a8\u89e6\u53d1\u6267\u884c"},"\u624b\u52a8\u89e6\u53d1\u6267\u884c"),Object(b.b)(m.c,{__position:1,__code:"() => {\n  function getEmail() {\n    return fetch(`https://randomuser.me/api`).then(res => res.json())\n  }\n\n  function Demo() {\n    const { data, loading, cancel, run } = useAsync(() => getEmail(), [], {\n      manual: true,\n    })\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n\n    return (\n      <>\n        <Spin spinning={loading}>email: {email}</Spin>\n        <Button onClick={run} style={{ marginTop: 16 }}>\n          fetch\n        </Button>\n      </>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:t,Playground:m.c,useState:g.useState,useMemo:g.useMemo,Button:c.a,Spin:s.a,Form:i.a,Input:o.a,message:r.a,useAsync:d.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNAlgAMSFIglgaVAZnCJYjzgCo0lQ9CGPcAh0GY_C5UU9BPTgSQiNgSVtIIRJfRVVA8PVQiYAAQTgRJUHIeT3W0gRyEkCirJs5zVGwFSzMDSV7MYxUwVs6gUWOU4sJIwz4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZxSgAWLL2AANiynL1jAYD-O9aBEhS_hnEOBEHUwGChH4STqEoOB8oRarq1qmhnAgLDLnYABGYrcvkILdFCiy5hi9gIyg8gbCgdAw1QjkYrEdboxkdgUSi7hgGwyKsXkLca2ALboF24IADJXvGRJ5koZonp2vbuEBuUwGQyUBlQdp2AAfg2Z6wwjA6rj-l7UAW6spBkKs3zMGEzMwMAwigKYEcO470ZW5dqwsYASe4I7gBXCwQds7tzFPM8omgEmGapmsLC6Ag-nMMBRy2iNikIW57keTIMEiCiBBwI9JFmCBig5HAJjoCMujsOmJ3gf84GoBG3z5iw0cZw1QdZ9gtWoyhuatiwloI9BolcJYoEoDsCiWOJbPnJY0XMNDYtc6zbIjWmjvZzmoARpYAG0AF0lh583zaiVBQniK5UQZXLM4ts3i9d6F47WiiqJoqNeczmP1uj93SPYAAfNvWPkDXddCIm7A79hU45JPUpT9vO-AbucGo1xoCL4uLCTlvXDT532Gx-uawFoWycXhN7v32seLQM7eNQEyZ0u73fZnO7Z-gK5gAfqB5CkE_UEP_fGHYm5mWoewUBYjbEuiHNC51YCXSgglJKlhKAzCuNNcqqE7rr0ziLAgW00E1ikL_TiX9M5SAITWUufM0aZx3gIcwjB7Y0XYJuFc8hyG1kkBTLGZgvwgDgE5FyRE3K2UkJ5XABAtAUGAvoBgpl7RQXtvMcMtlEgABlbAEHIkRew8QoAeAlNsNRxFSK0D0WKMAeizxgBFn5OiboAovmMmYcgcFpJWH5BkRglh6brH7GwLIBtOaX1nLFVKdi8r9FYD4zAcFkiBOCRYLxYTaA9A8FcaOOBUmuESvcEIqBEjD1JtBGU1I3Ht1yOGSAzp0BiAOp3HOCQ1o1KgDEvsoSfEonSVMaJQVYnNISTEI8Ah7xrSCZ0wsqAURoklEKCM5AknrQOvrfJkRCmWGKchfGaBshiCWBE-CVwc5EECAIA6GcawTFsKGB-_i1rbMSMZPmpy4A4GuVc-c8FbknIJDgVp9pYrXLeRYe5msXH9JyD8l5NyVwAumWtaZbzLbVhRPAtajdjkWBxHLEYHxyQCEsC4_YEYAW9IyPeD8EKPmEuBYMv5-IzldD8QUNaALfnrHkI0_KFEkVzI8bzNFJwMUOPFNi3F4R8VkqBcSqlALaVz0ueaWKWosg4FQKMEm5pqUPK-QQWFjTe5HiRaknA6SUiZKRMPK4CyiBLKOp3VZMAym5n1iitVnzSLfLtgqpVIwEZUp5aMTFAqcVHjxQSsV6ASW8wgM0EVZzplHKtpQ8wzoxjmstTreAlAoCsG6A69ewa-kDNij6jFRECABpgHi_w7lZmk0dZnCN61IUeFjVvTODaIz6ojIagendh5hqPhYR4Bt6S6sAFfKgAzyMAIvKgAs7UAG-mgALNUAAD6gBpzUAIXR07AAw_4AQptACQ5oAFfjAB7aoAZb9AA55tg_maaM0wDrn2ms7QAByw5dbpszewMJUAGR5k2OYQUCQCiiVoAIV9nBCSjlJOSIi5k9ioGcKEcgCInEfWoGeAQQgjhoBROKZSIQ7BIgXkfXt-9mGZyUE6qVaACj4bIRR1CK540lLWeUrVZg4W43tGgf9BN2o6hmKzOAbiuUWGzrnKAUMrheHTeKVASp6GSHYIAejNABkKoAXCVF2ADRlQA5kaABkIzx6agEzj_RkV9In2B7IOVJgdgA7eMAEfRgAQt0AC-pgAUtMANfWgAlzyZFBmDcG4BGYjOgK4lhOUvsoFwMzMnAAIRoAfKU92AGAYtzSGUPeamnFoUAXWBBfQCF9ggBGTUAKSx0WmNBQMvMYzwgZh6rSRkq4JqU4pbS8ZcuSr4G7JKxy6tLKCtfW6P2RZRExSCyoXxsrBqKtZJydVvJBSiJFOtaU9ZFS6shSmF1i1PXRxCyuEt6kvWhaMCREdWKFbbJVv1vUrDI3gksbHHoAQHHuhbaoQANXiAyAbxyb6FRSKJ4Q5JJPrAyPFq4SWBBvJXkZywbyA4IigE1-BbyQ7rYmzAO7qApt0dtbNsQbzyVPxXAihBxWYc0fgKEI80OZhUrZURUnjHUZBQu8cW1hMpQ23BuZfh5BGBinpETNau2r2GmSutfVnbKvZNyfMhHHOidE02esTAdwriyLoJgBRyjQqxVTgveBPGrhcZ45LrnBA9td1yhyK4SPHtvpgPrvuhu4rVnLknVphizqjnHuHIiJEsiS766gC3z3Oc27EA2R1b2ChXAJlAIiuHViByh_jmY0e4dNO64j1bVDo9Y7t5nXHpPo9nqHVNDbK2fd577GESn8fo9KGZfh8u5Kq4rbAG4oF1vpcrJm-UhsNq7WhvBwtwsyF2nmWMRGVKtf-9kaHxREfBcYDj9GVMGAmaBDQXL_a4ftqIwR6ImG9YFEzEWIINHALjqqCD4-H0MMUwADUsVppUsnxf5DLpYqz6pbR5FVsz80Cf1f9gt-ZoqU2tqxiM5c4Bd97d-8Q4G8YANEEhtEdgUlysjURdRtTcuoU9W8phpt6MNlq0VwB1AA7D0AF35QAWDlAAseX3UAGqIwANeVAAI22s2PRXHLhDkcEH2hTaB_16GfxoCpWLQjD1iOg2nYH1TgC9h9ne3zjRG6G7io1ozAFQDbWQPAKtk1k_R8w9nwObU4EjVYM4PaSBm_wIF_30CbSPjrQjC13BgeWoGg1g3gHAKzz7SsJChwFsI8wcI0NIioyI2wX4MEPWiglEK2Q9nENvg-0NHiHA1kKpTIXXloxXliP2lULiEwTwAjD-yFC0MXgsL0PYMBliiMJMJoDMP3gsJcNGTcNQEB1KKPgqJsOqOQ0mUyMOSSLiO0IsH8NJmEOCOhCaIEDCMkMiMjxkI5B8JrEI3NgmCEDGBaKSO7lhS2RgDuAgJdn71xxgLgK0R0WP2yJrCXwyFXwonQGKKHzf2YP0NOP_zvypQHUAFA7QAEzTV1Z0VwLDyVTjaiTkgVTjnV4EvVGEcdRwBDuigjUkxC-iUNdkYAxhAdHxcd5hlIORBiw9hjoixjFih5qtGly4Kcs1zItiEDthdjs1eYDiV818TjuC_9X9pCqUiiqSXQAD78CCZNAAgs0AB0FZ414yNd4hkkopwu5b4vk4w3E_43mSYro_WHosEpYFoqEmE_ox8XExE5EoqVE0Y_DYjYebEqAonXVd3WAzRQkjtSOOyJQobI1dA5NSbAPbnHAtHTvPY_tGTQAIwNABYTS5PDUjQAEIySjiiJKTL9TCBSawB1AA0zMAEJrTTQdYnboddQAFL1ABpr0AGdlTTNdQAeLTAA4FSXVXStlcBGDnimBDnNM7So0mLeKFKDP5JrQNh93GErJ4OMJ1UvXbU7QnkxPRIBN5lo271mwxO1OGXLjYwM3iDZ02KNJ2JXAOzNKFwyRPy_ygOQjYMzEKMuOFKSNgCLNHDNyl2wNRx7ySIsO9PqKVncCE3bO9Mf2FM-L5gFh5wLPHGLNbIyXbJ7XmKtgsPpKrIMNijyOrPXgHWHWUxUxnVnTXVIJzOnRzQbOpOM2hOcT6SwIbGwUbmHIA1HNNJLLnNLz5hPO_V0xSH03QqgFOxMwyBwo3jaOk3YEACDNI9QAPujAA7f0ADC5dgQTeINdQATCVAANvMABLoiCldKC7Qiwq8789gd6PYbjaw08nOeIG882AdfMwsicZCc0jtF8weN87BUSxstabfGAKitCeccDGsvmAdSC7BO8_bB8qYXk7885AvNStszS6rcYi2K2SYs9OsgWIA6PJOPCnTX9K7V9JYE89iqAYOZCNeasVYkZUKLoN7cc-Ayc3mLCy0s1CXW0vc3sx0kkzOAdQAJjTAAja0ACg5CMwAB1NAA7Y33QXPP2FOuMAI_MjQCp_T02CrkpDL5iPLCrPI6tMtDJkzoq3T7ECpnDXTuMADAXMq6zT0o-XHMUxeTy7eNPWkdqqANnNK8A98reAdQAF7dABS40AAX4rTLeWjJ81JdSo1V81y3ylcJOEOUKqS1w_CoK_9V9aKiwWK8uCHecJK7YxAz_XmL83Spk24mTaY0YLJCEoUQEo_AI6Uz5WU_o-U9gWE9oH62AFU9gUPNU_S_aTU5OLE4ZffcxLYI_FcTa1AsXfjc2cop6yol6tqt6vq9eNC19Da8YoykYnQ9aY8-mh5cK-S509gA6wAHgUTrF5zqcBLqu0OzObhlbyVqjsabM5ga_9Qb155rObbreZ_L-aZKhNHqeMcBGbCK1rIquJOA1q2cPrKLhlaMQ8JCUSnc_wcaUho85SzoDE_wWjo8V4rgXbHlQjmD3BIdE9kIrgerZKSKJKWqCKiLAMYZmz2ArgEqJCM8gVsct5cdS9mzS9cSq8F5gC0ZOFBpthXA0gjZqBAJdAQIDAwJjl-BUBvRGQkB2B-AfhixqgMhzQfwyRW6F5-Bl98hqB-Arh-BUocBJ7Uoep1h-ByhyB-h6ax726QALIzo8JYBoQsBvR-76cyRKBEhcw8h6VTRJRzRO6_hSxZ7qx-A_EV7-AhEjYb6LB57lild4QIB4AV7HV-Az7RA27-AAA9JBHAAADhwHKhfprH4HUgfpACAaTBwAACZJ7ppoHX7BBNRLRIh4GQHypwHIH-BmUmNOEu7vAPhqBIAUgq7UAa7xFQIQAGYQBaAfQsgx6O7TRaBzR_7zRZgZh-B5AFAmEgA",mdxType:"Playground"},function(){return Object(b.b)(function(){var e=Object(d.a)(function(){return fetch("https://randomuser.me/api").then(function(e){return e.json()})},[],{manual:!0}),n=e.data,t=e.loading,a=(e.cancel,e.run),A=Object(g.useMemo)(function(){return(((n||{}).results||[])[0]||{}).email},[n]);return Object(b.b)(u.a.Fragment,null,Object(b.b)(s.a,{spinning:t,mdxType:"Spin"},"email: ",A),Object(b.b)(c.a,{onClick:a,style:{marginTop:16},mdxType:"Button"},"fetch"))},{mdxType:"Demo"})}),Object(b.b)("h3",{id:"\u8f6e\u8be2"},"\u8f6e\u8be2"),Object(b.b)(m.c,{__position:2,__code:"() => {\n  function getEmail() {\n    return fetch(`https://randomuser.me/api`).then(res => res.json())\n  }\n\n  function Demo() {\n    const { data, loading, timer, run } = useAsync(() => getEmail(), [], {\n      manual: true,\n      pollingInterval: 3000,\n    })\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n\n    return (\n      <>\n        <Spin spinning={loading}>email: {email}</Spin>\n        <Button.Group style={{ marginTop: 16 }}>\n          <Button onClick={run}>start polling</Button>\n          <Button onClick={timer.pause}>pause</Button>\n          <Button onClick={timer.stop}>stop</Button>\n          <Button onClick={timer.resume}>resume</Button>\n        </Button.Group>\n      </>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:t,Playground:m.c,useState:g.useState,useMemo:g.useMemo,Button:c.a,Spin:s.a,Form:i.a,Input:o.a,message:r.a,useAsync:d.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNAlgAMSFIglgaVAZnCJYjzgCo0lQ9CGPcAh0GY_C5UU9BPTgSQiNgSVtIIRJfRVVA8PVQiYAAQTgRJUHIeT3W0gRyEkCirJs5zVGwFSzMDSV7MYxUwVs6gUWOU4sJIwz4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZxSgAWLL2AANiynL1jAYD-O9aBEhS_hnEOBEHUwGChH4STqEoOB8oRarq1qmhnAgLDLnYABGYrcvkILdFCiy5hi9gIyg8gbCgdAw1QjkYrEdboxkdgUSi7hgGwyKsXkLca2ALboF24IADJXvGRJ5koZonp2vbuEBuUwGQyUBlQdp2AAfg2Z6wwjA6rj-l7UAW6spBkKs3zMGEzMwMAwigKYEcO470ZW5dqwsYASe4I7gBXCwQds7tzFPM8omgEmGapmsLC6Ag-nMMBRy2iNikIW57keTIMEiCiBBwI9JFmCBig5HAJjoCMujsOmJ3gf84GoBG3z5iw0cZw1QdZ9gtWoyhuatiwloI9BolcJYoEoDsCiWGIjwEJY0XMNDYtc6zbIjWmjvZzmoARpYAG0AF0lh583zaiVBQniK5UQZXLM75wUEgKUTaAEVg84y1K66L4v5DN4vXeheO1ooqiaKjXnM5j9bo_d0j2AAHxH1im9DeBQiJuwx_YVOOST1KU9H8fgEn6jXGgBvi4XofXDT532Gx3uawFoWyb3hN7uv2seLQM7eNQEyZ0u73fZnO6t-gK5gB_qA8gpAP1QLfa-jB2I3GoDgAA4khGYZ0DKwEulBBKSVLCUBmFcaa5VUJ3WPpnCBHFmTUHsFAWI2xLohzuiiVw9pS7kJnFISBnEwF3yIVA8wpDyE7EugHDIOB8oUTukIoizDiGgIIebDhnE9ioDIRQvh_IBEokwTQiIMxxGcLYeAlhJD5E8MocAfhitdahCPHdMxR4tGsKkduPRqBYHwJ0XzKQLiT5WzRpnC-AhzCMHtjRdgm4VzyC8bWSQFMsZmC_CAOATkXJETcrZSQnlcAEC0BQYC-gGCmXtFBe28xwy2USAAGVsAQciRF7DxCgB4CU2xKnEVIrQRpYowCNLPGAEWfk6JugCi-YyZhyBwWklYZRAhGCWHpusfsbAsgG05q_WcsVUqDLyv0autBjjzngmtVZQULCzM2d0cgHgrjRxwJcuhKR7ghFQIkRepNoIympJM0euRwyQGdOgMQB1x45wSGtAFUA1mHI2fM2h9oVmgr7OCrZJj7x7Jha7NEkohQRlOecg6-tnmRFeZYd5yF8ZoGyGIJYmA4JNXYDnIggQBAHQzjWCYtgp6LIKGtCl8FjJ82ZXAHAnLkixQFdyplBIcCQqmEKnZiQRUWF5ZrcZiKpWUtlfiFlpy1qnJFZbasqiEGxX7oyiwOI5YjA-OSAQlhlH7AjPKhF6APwrjtYqnI0KnViq6Gymca15XCvWPIGFojugGuxdM3mJqThmuGeKS11rwi2rFfax1vN5Weu3ks9g5pYpaiyDgVAowSbmjVXyiV2qYVWODetS5OBrm3KRIvK4uKiD4qOuPIlMAvm5n1ka4t4rSJQrtrm_NIwEaqojaMc1MarVHhtc6wO95k18wgM0BN6qPAMqtj48wzoxhNpbTreAlAoCsGDWGvec6MhKrzKoCdRECDTpgDa_w7l1qhrimfJdK75WnI3R-8236PARmrRGWta8F4pw5Iuu-QTJAG3pEedggAr5UAGeRgBF5UAFnagA300ABZqgAAfUANOagBC6Mw4AGH_ACFNoASHNAAr8YAPbVADLfoAHPM7FwaPSenu0GaztAAHLDl1qx7o1coAMjzJscwDDy56Crr2WwZ1RyknJERcycjnChHIAiUZH1qBngEEII4aAUTimUiEOwSJd7Xyg3vMJmclC9rTWgAoFmaxN1VVZg2gtfEfOJd8stZgdW43tGgSuBN2o6hmKzOAkyz3sGzrnKAUMrheCPeKVASoYPsEAPRmgAyFUALhK-HABoyoAcyNAAyETMo9jCUgVwyIJ-L1LzF0tS48dggA7eMAEfRgAQt0AC-pgAUtMANfWgAlzyZKgFTan4BwBqxGdAVxLBvtYJQLgDXYOAAQjQA-Uo0cAMAxg3tO6fG1NLbQoZtzfQAt9ggBGTUAKSx63fNBQMvMalwh9VVquYlOt9zHn61m_NoZIUpj5swVcX7D3DUBuu19bo_Y8VETFO51AkW1pAaezcq49aINPJeWIglbbPkkp-cZVu4Pm2Q9HELK4-PqRQ6FowJER1YrPtsq-0mwLjN3JlUFfzY5JPBe6OT3xAA1eIDJYeMo_oVFICXhDkhS-sDI22rh7YECKg-NXLAiriLZec_37sipDiTtHMBucw4x55jt2OxAipMX_FceqNeYNVRW63MxVVBvtz51GrOsCqXxoTKUNtwbmSSeQRgYp6REzWlT9jhpkqPZrc9pHr2Uc4t14H6eRMyXrEwHcK4BS6CYGKWU0KsVU4N0weFq4oXwtJ-DwQanE9cociuPrvnQmYAV5nlX99LtvsL1oS02TBBV7hyIiRLISfoeN4F0H1vYgGw9uFwUK4BMoBETM6rhEUB7dme17CiHeuie-LM-b9v5srd3cwWZ_m08jw6-3_rs_fYwhEXXyEhuzn1itxMR3QnYBJnjJbynwlWPvkGx21O0HUVdO8qBkJJVzI2kIxUooNW57MoCKIYCC4YB4DO8YAT0BBoJ78u1oCO0IwF8iJk11gKJOlukCBo430e0ICaAPg-gwwpgABqWKaaVVRA-gnTF0WKVA23XfcwQ1K2WgggTgxg9gFgmaFzbVclGAO4Eg6sVuEOD_GAapBIOpHYC5BHF7B5CDRtRPCfEPTHLzUlUmHtRrQAOw9ABd-UAFg5QALHlaNABqiMADXlQACNs2tGMVxFDkJHBIDNU2g6DeguCaBVU70Iw9YjoNp2Bq04AvYfYRd840Rugm5HMt0I94do8blm4-ZNZRMJsPZTDj5l11oQ4fDMxAZYphDRD9Bf074iiIxi9wY-VqBht1M4AajoMGiQocBmjVNWi8jSJHNrMpFQjwj1ooJojyUPZYjP5RdDR4hFNkjVU-ZXM-ZUiD4lj9orYPhogxZpchQCi_06iSj_DJUgZKjAjGD2i946jOjUAmjUA5crjr5bj7i5cIw9j6UNjljhjRwwjSZIiJjoQdMhRpj4i5jF8kjIMvjUJj4JghAxgPiNiX9qwbN082jkVO89VlDVDal6kqCDi-ZMCMgcCKJ0AqiyjxhEjVVziGCXQJC2CVxGtABQO0ABM04jbDFcOokxckggJ4uVcZHkvtTBUdEJS3X40YgEy5GIoE3Tf7GAMYN49oPVeYZSDkUEufcEhYqE_1ZOCDDEu4qYINbEmpdQ7YfE7tFcIk7A3Aski47gykhkakk4nk8Q1g1VRrQAILNAAdBXZM5K_QFLtJoD5PGADNpLoKDRFN5lcxGP-PGKlKWA-LlIVOBIEEfCDVVPVKKk1MhKgxs0Xn1NCgrWNLULxNpzsnSNrTry6m31_ymCMON0AIJJrEa0ACMDQAWE1fTeY6iABCK0kkoiW0sM3kw_PmRrQANMzABCa2Kzg3MW6FI0ABS9QAaa9ABnZWKxI0AHi0wAOBUCNiMrZXARht4pgQ4KzntHNXMuTQygjhye1z9ocQzA5BSK10iQNnswNF4zyVxUjgDsdpDwN5CO8DTOBJNBN_dizcSNCVwyyo9Kymy-YvD5ETi_DICeSNjYAjzRx69k86yjcQCNieyXilZ3BYswNuyODAzrzj4BZQ8DzxxjzgNQN553ykSrY6iaSryYogZjjIDgyLBGtENcs8ssNsMSNrCdzMNYTLyxDYod0xlA5ayGwpF-5Asqt4h_cTzMjb8-YCLxMZxKspMoAmcaU6VNKT5oTGtAAgzQY0AD7owAO39AAwuWiyIviBI0AEwlQADbzAAS6NEqI3EsOJXTIqHPYHej2DC0aMIpzniB4ubNg33MPInGQmfIYvHiYqkQCvYtiiIJgGhLQnnEUxvPNkazEqkSoppxoqmG5PIqnngxgEStfMYog0GKc08U3X4LcxczMyTm0rKwk0rkEyWAIpi3iGDmQiPmrH_MLEAq6GFzAtNPDwsHUraL0JrIMOwu_MbItLPka0ACY0wAI2tAAoOQnMAAdTQAO2NaMhDnTyLXTJCWKV0uqy5dLgLIqRzzZ8LQqujBqoAoreLYNLKKM-xuqZwSMmTAAwFwOra07Lvj1UjMs0otauUv0rUurUrOYs2tg0ABe3QAUuNAAF-JKzPlSLosuRfJuTfIavapXCThDn6reruMEQBoq0eqgFGosHGtbhX3nBmrxMEN5jYrEPpPdNgzhNGDuRlKFDFMoIlLjPFQTJTKTPYEVLZtgAzPYFnyzMyv2lzN1PGrIK6S2EoJXAWtjx0OoJuvWjuvKz0sEyivhpAsjnIGhvNhyohM4BXW7IGqcs-uetHPRoxsAB4FXGveAmnAImueZK0m5q_0PG1qrmveHmukt04-KGxq4HKMjqt2iKqAKm8LWm-6-m3qoa-KriICvOqAf3Jm0yg5NzS-GfOIjU7vP8FWlIMzRMxBXND4szA-K4Ou_lKYzw9wVfDfZCK4NO4i4Ks2nqlSgymGIsq4KauI_fcZC3M-PVW_CtW_INMzJQf1YyNGGJQabYVwNII2agQCXQECAwMCRlfgVAb0RkJAdgfgH4YsaoDIc0H8MkW-hufgLA_IagfgK4fgVKHAQB1KHqdYfgcocgfoamv---kACyM6PCWAaELAb0d-7ZMkSgRIXMPIdlU0SUc0R-v4UsUB6sfgRZGB_gVJI2EhiwcB2Q7PeECAeAGBntfgPB0QO-_gAAPRwRwAAA4cByoaGax-B1IKGQAuGkwcAAAmQB6aYR2hwQTUS0SIcRnh8qfhwR_gf1XzGJJ-7wD4agSAFII-1AE-rJUCEABmEAWgH0LIP-h-00Wgc0dh80WYGYfgeQBQUJIAA",mdxType:"Playground"},function(){return Object(b.b)(function(){var e=Object(d.a)(function(){return fetch("https://randomuser.me/api").then(function(e){return e.json()})},[],{manual:!0,pollingInterval:3e3}),n=e.data,t=e.loading,a=e.timer,A=e.run,r=Object(g.useMemo)(function(){return(((n||{}).results||[])[0]||{}).email},[n]);return Object(b.b)(u.a.Fragment,null,Object(b.b)(s.a,{spinning:t,mdxType:"Spin"},"email: ",r),Object(b.b)(c.a.Group,{style:{marginTop:16}},Object(b.b)(c.a,{onClick:A,mdxType:"Button"},"start polling"),Object(b.b)(c.a,{onClick:a.pause,mdxType:"Button"},"pause"),Object(b.b)(c.a,{onClick:a.stop,mdxType:"Button"},"stop"),Object(b.b)(c.a,{onClick:a.resume,mdxType:"Button"},"resume")))},{mdxType:"Demo"})}),Object(b.b)("h3",{id:"\u8868\u5355\u63d0\u4ea4"},"\u8868\u5355\u63d0\u4ea4"),Object(b.b)(m.c,{__position:3,__code:"() => {\n  function saveToServer(data) {\n    return new Promise(resolve => {\n      window.setTimeout(() => {\n        resolve(`${data} saved`)\n      }, 2000)\n    })\n  }\n\n  const Demo = Form.create()(props => {\n    const { data, loading, cancel, run } = useAsync(\n      data => saveToServer(data),\n      [],\n      {\n        manual: true,\n        onSuccess: data => message.success(data),\n        onError: error => console.log(error) || message.error(error),\n      },\n    )\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n    const { getFieldDecorator, getFieldValue } = props.form\n\n    const submit = () => {\n      const fromData = getFieldValue('name')\n      run(fromData)\n    }\n\n    return (\n      <>\n        {getFieldDecorator('name')(\n          <Input\n            style={{ width: 300, marginRight: 16 }}\n            placeholder=\"please input your name\"\n          />,\n        )}\n        <Button\n          type=\"primary\"\n          loading={loading}\n          onClick={submit}\n          style={{ marginTop: 16 }}\n        >\n          save\n        </Button>\n      </>\n    )\n  })\n  return <Demo />\n}",__scope:{props:this?this.props:t,Playground:m.c,useState:g.useState,useMemo:g.useMemo,Button:c.a,Spin:s.a,Form:i.a,Input:o.a,message:r.a,useAsync:d.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNAlgAMSFIglgaVAZnCJYjzgCo0lQ9CGPcAh0GY_C5UU9BPTgSQiNgSVtIIRJfRVVA8PVQiYAAQTgRJUHIeT3W0gRyEkCirJs5zVGwFSzMDSV7MYxUwVs6gUWOU4sJIwz4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZxSgAWLL2AANiynL1jAYD-O9aBEhS_hnEOBEHUwGChH4STqEoOB8oRarq1qmhnAgLDLnYABGYrcvkILdFCiy5hi9gIyg8gbCgdAw1QjkYrEdboxkdgUSi7hgGwyKsXkLca2ALboF24IADJXvGRJ5koZonp2vbuEBuUwGQyUBlQdp2AAfg2Z6wwjA6rj-l7UAW6spBkKs3zMGEzMwMAwigKYEcO470ZW5dqwsYASe4I7gBXCwQds7tzAqVgYEsShnAyDmBAjdBolcA6GapmsLC6Ag-nMZ0xmgmVqQjLo4EoKAOdJ0Xxa1vNVFGHAiIISx-RgfYI1p-nGe1id4FVjmI2KAASK6hbQ9nsmKN8rZrJR2AAJlSgPPat-Qg_FtHLaWqYtWo4dYsEgQiA-U1aARiN-0oQc6bisXxcj1jjiFpYoEoDsCiWOJbPnJY0XMNDYtc6zbKjHOtcF0jSbdrmeYEPmBaFjlcq9iwAG0AF1B6HzWh4sKJUFCeIrlRBkJ-n6hnFCcgEWkq429cUmpJkv96U3-A4D70iB8t7XqDPAQhDLaE76FUmltVv9i5SCMMnvg6AB9f_YAfVwaQcDfyFF_J-AhL4tzDivLWoctZ52oq4aAa0KJURos3ae5t1pm13uwf-rEQ6hngKEImdhCFjw5MPVKo8CEAOAMQ5B0A4Ha2HrvceV92AINziFAip5-IQHnOgaOVBMgRAEEsARQidoADV4gMjkrFdOdwcC1QTkFL2ed6QeCIOOWKOCp5aL4fJLUQs1rSOEfIqADJHyoG9DAV8XCJbIQjPRMxF8uHhxgdbKWAhzBYKHowe609gCWJ2qIoU0RwHtHsUeV8gTp4JlEuJUQPivbnVgJdKCOJ0ATCuEmAOklXCJTQCKCAKRCBXGmuVVCaMklazJBKGAwwdoZD4CAMk4oiKcDEuESERw4mMhAM4rWm5WFWw5PUpJjB2I3GoKM8WBl5gdP7PyEpiR-CLJrMXUuM5Lq7MKikaZDTqD2CgLEbYl0dF6IICcpJmSYDZMASUpKXMZjVNqfIe5XsQkPNcBzbZUg5mcT-drKQYKaw8P2pbSW0tazRxouwTcK5vnRkkBTLGZgvwgDgE5FyRE3K2UkJ5XABAtAUGAvoBgpl7RQWjvMcMtlEgABlbAEHIkRew8QoAeAlNsTlxFSK0EFWKMAgqzxgDAFsKYdE3QBRfMZMw5A4LSSsMbAQjBLAWzyv0VgWRrZRDQAUNaqUlW6rYAazAcFkixTNZovseqDXkA8FcM2OAPWvPuCEVAiQqGk3lpEakWqCG5HDJAZ06AxB_3YHPBIa041QHNRYNZ-raBnVIvaO1ybHWWvTTEI8Ah7ympzZHNEkpwEurdQdLOga9FERDQA5C-M0DZDEEsa18ErhzyIIEKB2clkEhIUakyM41qdsSMZQdtgcATvHfOeCU6awTBnSiEpUxYoTqXRYFdcAcAFoyMWzdC7J0rl3R8Dwa0XVLu8RYFEGc1qGJXDiDAesVXigEEbI8ptz0HqLegD8Z6h1_qPewe1Ytz1dBHSa2K56t3rHkDm_KFFH01p1eLF9JwRgfHJJ-42P7gMavvIBiDQ6oMoNHbOc0sUPF_lQKMEm5p8SrszQQG9OblahCPI-j1OAvVXCRFQq4dbg3atDc2mAEbcxZyMcxvda6s3sFozgejIwEbbp1q-7D76SlfpNuECMv6iMAY0xAZohmh0upFrC0c8LZZdSDQ27VSsbZq26DJrhRnC2gcw3rA2enTb-HcutNDA6h5mfWueqzYXp5RY8BGXjEYvX0PYFQkjDTHjW3pNxwAV8qADPIwAi8qACztQAb6aAAs1QAAPqAGnNQAhdElcADD_gBCm0AJDmgAV-MAHtqgBlv0ADnm2zla2xgIkpJ7QAByw5-tufYPqmx3QRibHMIKBIBRRK0B7r2WwZ1RyknJD0lDa8N5bzsB9G-kDekonFMpEIdgkQTO1uloePzvZLEg8wyj92w7vdQiuOF_iw0tsjexsw3jcb2jQKtgm7UdQzFZnALV6GXlz3iFDK4Xg37uCVMiyQ7BAD0ZoAMhVAC4SlVwAaMqAHMjQAMhHrEWxcmcK3eZI-7VxvtGPMuADt4wAR9GABC3QAL6mABS0wA19aACXPJkqB14n2ksj9a6AriWFC6wSgXBmdY8AAhGgB8pXa4AYBjhe33vhLr-VxtdCll_L9Aiv2CAEZNQApLEa6B0FZZ3R6MPoMbx_jPq_WjyNwr5VJiHcfNjcIGYqGNaIdt19bo6d60wDFH41AcOeOesSt6wT7uA0Kyc-J8Nrao3GTzuH6kUfpZXFz0RfP_jGBIiOrFILtkQuk0TVd135qQdjj0AICH3QS-oGsQyWPU9DkFBR8IckqAl1gIEBLg3Agl27wl5YJdFcERQG7f7pdNdC-p8j7Z0vlh0__bbUuv9VxZP3t9z7jTnGjxL4zhp5DRFL8zEB6jIKTfjiScJlKUGrNzJEvIIwMU9IiZrTl6BJgDJTrTO4J4Ca-r-q1rr6_6kJEztrrCYB3BXAMp0CYDMpsqhSxRjwTwZww5XBQ4w5wH_4EAV5EK5QchXAd5d4wAkFkJkFhZ5zDxroiqbYEB0L1xEQkRZBwHR60H0EIENiyZ95FSGjxBERwLz7zh35wKr6OqOYb7R5wIH4xY1jH6yE2bZZTRF5KHSwTI35TQ-5wJKAIb3Z5x_poLF6SZaoaqCGMFNoZ6RoNgSZSYmbrB5xUDIQbrmRioRipTmEmLGo-EUR-FLwwCBGoChQwB8zQRhBEQ5BcEb5gBuISERE5oUSSrSqShmyhayZeE0AfB9BhhTAADUsU00pmJkBARRd8LosGaIMAZ-m-ASeREcbQhRvQdRmY5RM0Gmwe1YPsyBcAJGHhJiNcVhMA3KCQfKOw7q8eKQieUB7uwmsBf-DBO-kmmeFe8OFgmWgAdh6AC78oALBygAWPIdaADVEYAGvKgAEbYc49Yrh5w1yODeFXodE1FdElEaYGwRh2BZwbTsC8ZwBFwlxHKLyNH7SfY_bmAgEJYLEjGWz7rzbnx7weY-IRZKzIQvGZiAyxQFEfHFH6DWbpKcDmb4Hgx7r7Zi4jFqFezkkhQ4BUmHYomfbayPbiw_F_FHQAlAkdqFzsCiEpBXAExQA9IhysnexcLQkFykQaYWAhyIlxAEBbQQL3waxcIYnPHvExRAz4m1ElHEnTwYn0lRGMmoAT6GlJImmUnmmQKqmG5ylazsnqGji_Gkw8kerAmPz3wgl7JCniGindDimOnymeZ4BCBjCj6Okhw3odowB3CjHVjaIRAB5JHTG8r8q5HqliwxEZBxEUToD6n1HjCNEaZ6mfEui9GVEriZaACgdoACZpdWZWK4GJf6RZNAlpSyGq7ZNRx-6mqKK4nJ7pUEvJ3pQo3aMAYwE-j4x-8wykA8ApoJ_eAZYpHI92PsVCpaJihhkx6Zsx2wWZaJ4suZAg-ZCRPZa04RZZ7xF5VZGmmWgAQWaAA6Ck2S2eZm2RWR2bSeMN2Z-TUYYf2WLPckOf8SOZ6UsKPhOVOXae0IYfOb6WCSuUGWubGalu7luVEVMOfu5uZHuZmVXnZHCXxgnlQQ5hHvYZsW4TsWoZloAEYGgAsJqvliwYkACEJ5Z52QPZnZNYmWgAaZmACE1uTlllxt0A1oACl6gA016ADOyuTvVoAPFpgAcCrVZ1aWyuAjAoJYWuLgGLGfb3Ktm_mElfmyYSwtE_mFo9kkLaFEVJYJ4pZpb9HfamWuGZ6oWbkOp5xg505QDf67k8r7lDYEVgHwltEtxPFYnal4k3l_mOmwBYWjjUHwFTCOG74m6WysXWk4CzzzxQApYsXBFcXfkmU-FqUaUThaUeo2WLF2Xu4SmPYYnlmGUbpAxaneHcXiyZY5aE5E6lZlb1bHHKUlaeYGXdE-H2Z6aarrEIFDbaw4KeVrbeWNzkBEVerQKrzQ4Uk4BU7LYt7Tb149p9q3bcIhmY7sCABBmt1oAH3RgAdv6ABhcgjtlfVoAJhKgAG3mAAl0f1bVoNeieZvlX-ewO9HsOtQyVlfEG1WMljiVeODXNZclpQjVcdRYL9Y1WtCKURMdWhPOD0sZeDewANaMpLIAepeOB-Y1ZZSJTDbZXDShV4pbI9tKZLP0XAsPBlVtTTjtfEEsBlSDVANXMhJwtWImRYE8fOKCb5TMZmSuMtSRasYoRRclVsc4dmdrJloAExpgARtaABQcvxYAA6mgAdsYdbtHeG3kVGOnGlA2mms0pC07zVg2I3mYsVc3uDZW208VY7nXNZ9iqzU4pD1a1mABgLlrRzkxdPH2RKaGT4tKXNdNt_lLTpdGZbJloAC9ugApcaAAL8RTi3PTeVTgJVRQgAvZaikzTXJzebXupbdbdNvzRYILYWJhasJXDlWmX5ZmU-mLA1SNewHeTWVjhMBGT6mOQIIOa6VyetGBfrBBZAlBewNOe0NIbAPBYuX6cKWkZCa5ehQ6pkVKjKkNrHUsW7iFdrGbTDptV7dtattNi7VHfEDHbVdCIGaSetA7aXZlU7aDYVSdSnYADwKGdXs0NiWsN-d8NtNDq4s0prdxiRtf1XdPiod0ZjNK4zNz93NJdx95d7NPNZVXEvS5919i1VdR1Dq0pIhS5YhrB78JDKQcCkFGaWQoCkCcCu8VwZDs6hcjx7gC-chyEVwjtiOOVANLNp9bNODOVMM2F7AVwXQhyKhGqh-lsx-Ey2FBh8RMAJhE8AxaMOKg02wwCf4mg1AgEugIEBgYEU8_AQy_AVw_APwxY1QGQ5oP4XSPU6w_AfM-QCySA7A_AqUOA3jqUTj1Y_A5Q5A_Q5tFjnjIAFkZ0eEsA0IWA3oXSL-ZIlAiQuYeQJqpoko5o1jfwpY_jFg_AI6YT_ApK_4cAeT4TyB6B8IQiZTHjsm_AGTogHj_AAAejUjgAABw4DlTlP5MgDqRFMgAtNJg4D-w4DTS9PhONOWiRCDNtPlSdPdNbKDFA44o2PeAfDUCQApClP6PaCGPUomP8C0A-hZAWNWPJwwDmjTOzAzD8DyAKDfJAA",mdxType:"Playground"},function(){var e=i.a.create()(function(e){var n=Object(d.a)(function(e){return function(e){return new Promise(function(n){window.setTimeout(function(){n("".concat(e," saved"))},2e3)})}(e)},[],{manual:!0,onSuccess:function(e){return r.a.success(e)},onError:function(e){return console.log(e)||r.a.error(e)}}),t=n.data,a=n.loading,A=(n.cancel,n.run),i=(Object(g.useMemo)(function(){return(((t||{}).results||[])[0]||{}).email},[t]),e.form),s=i.getFieldDecorator,l=i.getFieldValue;return Object(b.b)(u.a.Fragment,null,s("name")(Object(b.b)(o.a,{style:{width:300,marginRight:16},placeholder:"please input your name",mdxType:"Input"})),Object(b.b)(c.a,{type:"primary",loading:a,onClick:function(){var e=l("name");A(e)},style:{marginTop:16},mdxType:"Button"},"save"))});return Object(b.b)(e,{mdxType:"Demo"})}),Object(b.b)("h2",{id:"api"},"API"),Object(b.b)("pre",null,Object(b.b)("code",Object.assign({parentName:"pre"},{}),"const {\n  loading: boolean;\n  error?: Error;\n  data?: T;\n  cancel: () => void;\n  run: () => void;\n  timer: {\n    stop: () => void;\n    resume: () => void;\n    pause: () => void;\n  };\n} = useAsync(params);\n\nparams:(\n  service: (...args: Args | any) => Promise<Result>,\n  deps: DependencyList = [],\n  options: {\n    onSuccess?: (d: T) => void // \u6267\u884c\u6210\u529f\u7684\u56de\u8c03\n    onError?: (e: Error) => void // \u6267\u884c\u5931\u8d25\u65f6\u7684\u56de\u6389\n    manual?: boolean; // \u662f\u5426\u521d\u59cb\u5316\u6267\u884c\n    pollingInterval?: number; // \u8f6e\u8be2\u7684\u95f4\u9694\u6beb\u79d2\n  }\n)\n")),Object(b.b)("h3",{id:"\u7ed3\u679c"},"\u7ed3\u679c"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null})))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"loading"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u662f\u5426\u6b63\u5728\u52a0\u8f7d"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"boolean"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"error"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8bf7\u6c42\u9519\u8bef\u6570\u636e"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"Errow"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"data"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8bf7\u6c42\u6210\u529f\u6570\u636e"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"(value: any) => void"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"cancel"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u53d6\u6d88"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"run"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u6267\u884c"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => Promise\\<T",">"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"timer.stop"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u53d6\u6d88"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"timer.resume"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u6682\u505c"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"timer.pause"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u7ee7\u7eed"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))))),Object(b.b)("h3",{id:"\u53c2\u6570"},"\u53c2\u6570"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u9ed8\u8ba4\u503c"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null})))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"service"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u5f02\u6b65\u8bf7\u6c42\u51fd\u6570"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"(...args: Args ","|"," any)=> Promise"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"deps"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u4f9d\u8d56\u6570\u7ec4"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"any[]"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"[]"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"options"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u53ef\u9009\u914d\u7f6e\u9879\uff0c\u89c1 Options"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))))),Object(b.b)("h3",{id:"options"},"Options"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u9ed8\u8ba4\u503c"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"manual"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u662f\u5426\u9700\u8981\u624b\u52a8\u89e6\u53d1"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"boolean"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"false")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"pollingInterval"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u95f4\u9694\u6beb\u79d2\uff0c\u53ea\u6709\u8bbe\u7f6e\u4e86 pollingInterval\uff0c\u624d\u4f1a\u5f00\u542f\u8f6e\u8be2"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"number"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"onSuccess"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u6267\u884c\u6210\u529f\u65f6\u7684\u56de\u6389"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"(d: T) => void"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"onError"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u6267\u884c\u5931\u8d25\u65f6\u7684\u56de\u6389"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"(e: Error) => void"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")))))}O&&O===Object(O)&&Object.isExtensible(O)&&Object.defineProperty(O,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src/useAsync/index.mdx"}}),O.isMDXComponent=!0},"./src/useAsync/index.ts":function(e,n,t){"use strict";t.d(n,"a",function(){return j});var a=t("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/defineProperty.js"),A=t("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/slicedToArray.js"),r=t("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/regenerator/index.js"),o=t.n(r),i=t("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/toConsumableArray.js"),s=t("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/asyncToGenerator.js"),c=t("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/classCallCheck.js"),l=t("react");function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(t,!0).forEach(function(n){Object(a.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var b=function e(n,t){var a=this;Object(c.a)(this,e),this.remaining=0,this.delay=0,this.cb=null,this.start=0,this.timerId=0,this.stop=function(){window.clearTimeout(a.timerId),a.timerId=0,a.remaining=a.delay},this.pause=function(){window.clearTimeout(a.timerId),a.remaining-=Date.now()-a.start},this.resume=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];if(a.start=Date.now(),window.clearTimeout(a.timerId),a.cb)return new Promise(function(e){a.timerId=window.setTimeout(Object(s.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.cb&&(a.cb.apply(a,Object(i.a)(n||[])),e("No resolve value when pollingInterval is set, please use onSuccess & onError instead"));case 1:case"end":return t.stop()}},t)})),a.remaining)})},this.remaining=t,this.delay=t,this.start=t,this.timerId=t,this.cb=n};"undefined"!==typeof Options&&Options&&Options===Object(Options)&&Object.isExtensible(Options)&&Object.defineProperty(Options,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Options",filename:"src/useAsync/index.ts"}});var m=function(){},d=function(){var e=Object(s.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();function j(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(l.useState)({loading:!1,cancel:m,run:d,timer:{stop:m,resume:d,pause:m}}),r=Object(A.a)(a,2),c=r[0],g=r[1],j=Object(l.useRef)(void 0),p=Object(l.useRef)(0),O=Object(l.useRef)(!0),B=Object(l.useRef)(!1);Object(l.useEffect)(function(){return p.current+=1,O.current=!0,function(){p.current+=1}},n);var E=Object(l.useCallback)(function(){var n=p.current;return g(function(e){return u({},e,{loading:!0})}),e.apply(void 0,arguments).then(function(e){return n===p.current&&(t.onSuccess&&t.onSuccess(e),g(function(n){return u({},n,{data:e,loading:!1})})),e}).catch(function(e){throw n===p.current&&(t.onError&&t.onError(e),g(function(n){return u({},n,{error:e,loading:!1})})),e})},n),I=Object(l.useCallback)(function(){B.current=!0,p.current+=1,j.current&&j.current.stop(),g(function(e){return u({},e,{error:new Error("stopped"),loading:!1})})},[]),w=Object(l.useCallback)(function(){B.current=!0,p.current+=1,j.current&&j.current.pause(),g(function(e){return u({},e,{error:new Error("paused"),loading:!1})})},[]),C=Object(l.useCallback)(Object(s.a)(o.a.mark(function e(){var n,t,a,A,r=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=r.length,t=new Array(n),a=0;a<n;a++)t[a]=r[a];if(B.current){e.next=4;break}return e.next=4,E.apply(void 0,t);case 4:if(!j.current){e.next=6;break}return e.abrupt("return",(A=j.current).resume.apply(A,Object(i.a)(t||[])));case 6:return e.abrupt("return",void 0);case 7:case"end":return e.stop()}},e)})),[]),Q=Object(l.useCallback)(Object(s.a)(o.a.mark(function e(){var n,a,A,r,s,c,l=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=l.length,a=new Array(n),A=0;A<n;A++)a[A]=l[A];if(r=p.current,t.manual&&O.current){e.next=6;break}return e.next=5,E.apply(void 0,Object(i.a)(a||[]));case 5:s=e.sent;case 6:if(p.current!==r){e.next=15;break}if(j.current=new b(function(){return Q.apply(void 0,a)},t.pollingInterval),!O.current||!t.manual){e.next=12;break}O.current=!1,e.next=15;break;case 12:return e.next=14,(c=j.current).resume.apply(c,Object(i.a)(a||[]));case 14:s=e.sent;case 15:return e.abrupt("return",s);case 16:case"end":return e.stop()}},e)})),[t.pollingInterval,t.manual,E]),y=Object(l.useCallback)(function(){p.current+=1;for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.pollingInterval?(t.manual||I(),Q.apply(void 0,n)):E.apply(void 0,Object(i.a)(n||[]))},[E,t.pollingInterval]),h=Object(l.useCallback)(function(){p.current+=1,g(function(e){return u({},e,{error:new Error("canceled"),loading:!1})})},[]);return Object(l.useEffect)(function(){if(t.pollingInterval)Q();else if(!t.manual){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];E.apply(void 0,Object(i.a)(n||[]))}return function(){p.current+=1,I()}},[t.manual,t.pollingInterval,E,Q]),{loading:c.loading,error:c.error,data:c.data,cancel:h,run:t.manual&&t.pollingInterval?C:y,timer:{stop:I,resume:C,pause:w}}}"undefined"!==typeof ReturnValue&&ReturnValue&&ReturnValue===Object(ReturnValue)&&Object.isExtensible(ReturnValue)&&Object.defineProperty(ReturnValue,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"ReturnValue",filename:"src/useAsync/index.ts"}}),j&&j===Object(j)&&Object.isExtensible(j)&&Object.defineProperty(j,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useAsync",filename:"src/useAsync/index.ts"}})}}]);