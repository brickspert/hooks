(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"./src/useAsync/index.mdx":function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return O}));var a,A=t("./node_modules/_@babel_runtime@7.6.2@@babel/runtime/helpers/esm/slicedToArray.js"),r=(t("./node_modules/_antd@3.23.4@antd/es/message/style/index.js"),t("./node_modules/_antd@3.23.4@antd/es/message/index.js")),o=(t("./node_modules/_antd@3.23.4@antd/es/input/style/index.js"),t("./node_modules/_antd@3.23.4@antd/es/input/index.js")),i=(t("./node_modules/_antd@3.23.4@antd/es/form/style/index.js"),t("./node_modules/_antd@3.23.4@antd/es/form/index.js")),s=(t("./node_modules/_antd@3.23.4@antd/es/spin/style/index.js"),t("./node_modules/_antd@3.23.4@antd/es/spin/index.js")),c=(t("./node_modules/_antd@3.23.4@antd/es/button/style/index.js"),t("./node_modules/_antd@3.23.4@antd/es/button/index.js")),l=t("./node_modules/_@babel_runtime@7.6.2@@babel/runtime/helpers/esm/objectWithoutProperties.js"),g=t("react"),u=t.n(g),b=t("./node_modules/_@mdx-js_react@1.5.0@@mdx-js/react/dist/index.es.js"),m=t("./node_modules/_docz@1.2.0@docz/dist/index.esm.js"),d=(t("./node_modules/_antd@3.23.4@antd/es/select/style/index.js"),t("./src/useAsync/index.ts")),j=(a="Demo",{}),p="wrapper";function O(e){var n=e.components,t=Object(l.a)(e,["components"]);return Object(b.b)(p,Object.assign({},j,t,{components:n,mdxType:"MDXLayout"}),Object(b.b)("h1",{id:"useasync"},"useAsync"),Object(b.b)("p",null,"\u4e00\u4e2a\u5e2e\u4f60\u7ba1\u7406\u5f02\u6b65\u51fd\u6570\u7684 Hook\uff0c\u652f\u6301\u7acb\u5373\u6267\u884c\uff0c\u624b\u52a8\u89e6\u53d1\u6267\u884c\uff0c\u8f6e\u8be2\u3002"),Object(b.b)("h2",{id:"\u4ee3\u7801\u6f14\u793a"},"\u4ee3\u7801\u6f14\u793a"),Object(b.b)("h3",{id:"\u7acb\u5373\u6267\u884c"},"\u7acb\u5373\u6267\u884c"),Object(b.b)(m.c,{__position:0,__code:"() => {\n  function getEmail(id) {\n    return fetch(`https://randomuser.me/api?id=${id}`).then(res => res.json())\n  }\n\n  function Demo() {\n    const [state, set] = useState(0)\n    const { data, loading, cancel, run } = useAsync(() => getEmail(state), [\n      state,\n    ])\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n\n    return (\n      <>\n        <Spin spinning={loading}>\n          <div>id: {state}</div> <div>email: {email}</div>\n        </Spin>\n        <Button.Group style={{ marginTop: 16 }}>\n          <Button onClick={run}>reload</Button>\n          <Button onClick={cancel}>cancel</Button>\n          <Button onClick={() => set(c => c + 1)}>increase id</Button>\n        </Button.Group>\n      </>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:t,Playground:m.c,useState:g.useState,useMemo:g.useMemo,Button:c.a,Spin:s.a,Form:i.a,Input:o.a,message:r.a,useAsync:d.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNAlgAMSFIglgaVAZnCJYjzgCo0lQ9CGPcAh0GY_C5UU9BPTgSQiNgSVtIIRJfRVVA8PVQiYAAQTgRJUHIeT3W0gRyEkCirJs5zVGwFSzMDSV7MYxUwVs6gUWOU4sJIwz4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZxSgAWLL2AANiynL1jAYD-O9aBEhS_hnEOBEHUwGChH4STqEoOB8oRarq1qmhnAgLDLnYABGYrcvkILdFCiy5hi9gIyg8gbCgdAw1QjkYrEdboxkdgUSi7hgGwyKsXkLca2ALboF24IADJXvGRJ5koZonp2vbuEBuUwGQyUBlQdp2AAfg2Z6wwjA6rj-l7UAW6spBkKs3zMGEzMwMAwigKYEcO470ZW5dqwsYASe4I7gBXCwQds7tzFPM8omgCMuAOhmqZrCwugIPpzDAUctojYpCFue5HkyDBIgogQcCPSRZggKGuG4AASYAuHkYoORwCY6AjLo7DpxmBYneB_zgagEdy62azfZ20at5mweZLVqMoEm-ediwlqmABtFEyLO0cAF01ookisgjVLXcD4PWOOaJXCWKBKA7AoljiWz5yWNFzDQ2LXOs2yI1po72c5qAI3D2gOSWEOrYFpuYCdwOo-T53U-o1xoFjoiqJoqN-edmv1ur9AM_YAAfBfWPkI3zdCIm7CX9gQ97kPUpj7fgFXnBB-gbvA53ufSKji_rexyeayFkWycvhN7rf2seLQM7eNQEyZyXWzrnGcd126BxjLILgVxgCd3kBjWMtZMZnygDAlB8CdyyHAQLKQ39UAfzfowdiNxqA4AAOJIRmGdAysBLpQQSklSwlAZhXGmuVVCYDH6XyIRxZk1B7BQFiNsS6Jc7pdGAegKQxDOIEM_jwkh5h-GCJ2JdAuCIoB3TUfOKRvD8HYOtvIziexUACKEZdaeRECARjsnTHo7AADUM0OR3TQOQU0RFOCSMkNI6gsiIHeN0eQyhficGbnAX3GsaNnbPwEOYRgPsaLsDCfzeQUTaySApljMwX4QBwCci5IiblbKSE8rgAgWgKDAX0AwUy9ooI-3mOGWyiQAAytgCDkSIvYeIUAPASm2J04ipFaCDLFGAQZZ4wBiz8nRN0AUXzGTMOQOC0krD8gyIwSw9N1j9jYFkG2nMAGzliqlRZeV-isH2ZgOCyQTlnIsLsy5tAegeCuNXHAHzXCJXuCEVAiRd4HVsdBGU1JNmL1yOGSAzp0BiAOsvVAG8oBrQRQke5fYLn7PDvaO5QUHkYueTEI8Ah7xXCRGtU5uLCyoBRGiSUQprGvPWoCo6wLIigssOC5C-M0DZDEEsa58ErgIqIIEAQvMVwTFsKGM-Ry1oCsSMZAWkq4A4HlXK-c8FFU1mVTgLFUxYryq1RYHVhKMj3nVTco1-IpXkA8GtW1Wr3bVhRMwta08A41mWeKAQlh1n7AjCa9ZxL0AfglQSY2QbzU4v5jqrohyChrR1Ya9Y8g0X5Qom65lcV-Zeq-b6o8_rA1EvvKGmN4a41D1leaWKWosg4FQKMEm5prUqr1Y6tF68jxuo-TgL5KQflIgBVcVlRB2VHWXlymAULcy2I9ca8Neq1q1toPWxtpaBa5p9X68IAbw2muDeumsEBmi7ptR4cVj8YnmGdGMEdY6zbwEoFAVg3RZ3gKLWanIsVLH5pgP6_w7kmWkznYHY960dW2ovZ_edZ6Iw9ojH2rey8AWHs_o8G29Iu2ACvlQAZ5GAEXlQAWdqADfTQAFmqAAB9QA05qAELoojgAYf8AIU2gBIc0ACvxgA9tUAMt-gAc830YLR9z6YAT2gzWdoAA5Yc5sn0vvYJcqADI8ybHMIKBIBRRK0AEDJzghJRyknJB4jN1BnChHIAiVZH1qBngEEII4aAUTimUiEOwSI76X1Q4HNJbslixplQUVzFhV5WvczbYWsSIXcuhe2swTrcb2jQGpgm7UdQzFZnATZ2zqxRARfEKGVwvBPvFKgJUSTJDsEAPRmgAyFUALhKFHABoyoAcyNAAyETsp9giZyqYyDJ7L7BhWisK-hwAdvGACPowAIW6ABfUwAKWmAGvrQAS55MlQIZ4z8A4CdYjOgK4lgs2sEoFwXrxXAAIRoAfKVWOAGAY2bFmrPLammdoUG2tvoB2-wQAjJqAFJY47kWgoGXmF14QVDYpwc-d80lfyAWk029tpZIUpgNuYUK77mbgOpve19bo_Y2VETFMF1AqXu3_f7YD_5vdSZ3qImCidkKeUwuMqnFHo60ejhFlcan1J0ci0YEiI6sUAO2SA7YlFSL_C_IVUFaLY49ACHi90ZnsSABq8QGRY49RIgoOXhDkgK-sDI52rhXYEFq6-rhOuWC1Vo1BX3mFapLgzkFtOMck9C1O8nYgtX7pgSuF1LDTczCtZ2qaUPPcrnTURGHZuU3GSi1gVS-NCZSlBqzcyRTyCMDFPSIma02eCcNMldaPbEN4-B0Cq3MBE_wA3gQPl6xMB3CuA0ugmBmltNCrFXe3dmHJauIl5LRfk-l7WsfXKHIriS9QDL2Thek8l7S0HCHO9O5LEsTHcuRF460CLxj4fcux9EzEA2EDiuiqGniERO-xug8zDvhb9FqOYCD7vs77Nzs3cn-cxh0IR5LeX-v1bAPPvvt3yUCmw9qc-6I8V-U6myQane4-nKZO0KDYk606IaRuU-VAyE-q5kYyicABU-aA44C-IBYAAaaIMApa6wFEky0yVi7qK4yBNAHwfQYYUw9isU00Vq2BBAtBlmLosUqIDIXudOIWlBj81BbBvQHBmYjBM0AWjq_KMAdwxB1YqcJcwB3SCQfSOw7yOOA6QOvcw6BeEBKepOYWvKwGK46GgAdh6AC78oALBygAWPJsaADVEYAGvKgAEbZDZcZUFT4lyOAoH2ptA0EiH0FWqWKNykwbTsA9pwBZw5yFQpBXDcHdCryuZXoZ5_a9rfIRIWDGwKYrbzxvpcKcAnqeG-H6pAxCHsH0FQZvxgYRgt7gwqoGZGYmZwAVGfw1EhQ4D1ELbSTZGkS-bWyBbOxVGFHeGAyxSlH-H6DNFvxBEWxHShHhH8oZyREgIxH75QAeIJFWpuzgL9FPx8HmB66bH7RWwfDRASwa5CjGF5GDHIReGZgjGFgoFlETF36VEnqtHUrtGoDa6TGXzvF1FfGWb0rnFiqHECw7ECzXEmJFExQlFFFPE0A_GBzTEhFQTzHQiAkCBLHRFXAExrHxEci9FgnbHgJJHAmHH-YprSGyFoqpxu5KE9KqHbDVxZogZjF0EujiHMEmHFaACgdoACZpNGJGK4VR-68JBAiJop4xNBbuCMAWruo4wRticxHyER6JVmQqMAYw2uj4bu8wykLc7Au-KxuJ6xBJUhO8vcNJU-X-9JKh_SzJlxG6cJUpDBTBVq6GgAQWaAA6CoKcKSepKeyQiS8UqkGmKTgF_rKSuIFsiUqaiSqUsMCRqVqRiY-F_vqViUrqsaaYekoBaXIZPtSlMN7rab0vaSuJznZCkTngLkOl1JfnoVMAYfbjAY6dbOhoAEYGgAsJq-mPwimhkumIm8YY7jD9mBlsHe4pEIbfKLzIa9y9E7FJFwHk4BZ3whwly3zrD5lUqhSLq4HKGllqHlmVyVnZ4A41naF1k06j7F76F27wHs4T5tnFYNaABuemRoAPQqPZzsrgIwQ8RZyEk5iGM5eZvRSRE58GQF28KGK5K4a5yEG51YW5qcsW7W8Q8eJZjJ6eFgFZWeGhueBOuR_cHhNx0JoxzpY5hxsARZo4A-N5jZd5y5VsVRAAhH8SrO4KEL2NvMxawWKYOUFqnr-eOCXIBdOVBXOeSUxSemyaIcUbFEMUGSBgLOhlhlVtVsRiRrRpYZRjRu-qObJcipqWskSg2Q2PotPChepmhceVWWkU_gLGxUpi1ikG1lZXznYN1hkPZewISUVuwIAEGanGgAfdGAB2_oAGFy7AGWnFUAtGgAmEqAAbeYACXR2l1GRG4CVRvFLp7A70ewSWtR7FmWUA_FFg6GP5f5E4AFEFYls5Zp-imVY5a0JpMAoJck84HiSlT57AOlaVeRQ5gl5VAZsl0qmGAmVV_awF0FxJj8C5exQWMF_MIcjlzWKmouMmSwbFUV8Qxc8F3cSFHh84URGFZZ_MtluO55_el5oKG-9FS5LZhFnVgATGmABG1oAFBygAhNaAAOpoAHbGbGVsMl9BDibpUl60S1ymrWq18Q_FLFG1HFkNwZgc6GgVjGfYy1M4tGPJgAYC7vVDZflTERAzCRl5HglBYvyWUybx6nVNGSWPzoaAAvboAKXGgAC_GNaXqzUiVjVIYgXzUCxwVcS5XJbhmo0uUQ1QAIUWB7WFmrCFxIp7kMn2kCFOmPFZWcnunFYTBCBjDuBqlCjylWIzHrRxm6oJkYlJnsDantDG7ZCvgZl75NX7Q5mtyWmUqkFTJbBWIriU34UsnA3VF5VtFOUrVqYyZQ0i0U3znQh4n5HrSsV-0fGbVFXw3KXFYM2AA8CizZfOzR8lOeNeJbVdNZSgLEkQrSnORQZSreAjKfOdzTWItbHSqvHetXXYLWDcLUHVtRVXzWTdZe5GLT5R2rNTvlEZmZ3DgEaXfImdQnWsCXfHrlcCPXrkfu4OomfshFcDDYVdlWZk3QHeDW3UijDIulcOIlETfkGi7o_G7k_t7k_l_r_t3AjqjNkkoCAINNsK4GkHbNQIBLoCBAYGBB6vwKgN6IyEgOwPwD8MWNUBkOaD-GSCA93PwC-gIPkNQPwFcPwKlDgJg6lD1OsPwOUG4hALHWg2AyABZGdHhLANCFgN6HA8cDIdnIkLmHkAmqaJKOaBA38KWLg9WPwIciQ_wKUnbDwxYPgzITXvCBAPACQyBvwGw6IKA_wAAHpsI4AAAcOA5UIjNY_A6kAjIASjSYOAAATJg9NNo6I4IJqJaJEPoyo-VOo5o_wCmpFjkpA94B8NQJACkJ_agN_VUqBCAAzCALQD6FkGg-A6aLQOaPI-aLMDMPwPIAoKkkAA",mdxType:"Playground"},(function(){return Object(b.b)((function(){var e=Object(g.useState)(0),n=Object(A.a)(e,2),t=n[0],a=n[1],r=Object(d.a)((function(){return fetch("https://randomuser.me/api?id=".concat(t)).then((function(e){return e.json()}))}),[t]),o=r.data,i=r.loading,l=r.cancel,m=r.run,j=Object(g.useMemo)((function(){return(((o||{}).results||[])[0]||{}).email}),[o]);return Object(b.b)(u.a.Fragment,null,Object(b.b)(s.a,{spinning:i,mdxType:"Spin"},Object(b.b)("div",null,"id: ",t)," ",Object(b.b)("div",null,"email: ",j)),Object(b.b)(c.a.Group,{style:{marginTop:16}},Object(b.b)(c.a,{onClick:m,mdxType:"Button"},"reload"),Object(b.b)(c.a,{onClick:l,mdxType:"Button"},"cancel"),Object(b.b)(c.a,{onClick:function(){return a((function(e){return e+1}))},mdxType:"Button"},"increase id")))}),{mdxType:"Demo"})})),Object(b.b)("h3",{id:"\u624b\u52a8\u89e6\u53d1\u6267\u884c"},"\u624b\u52a8\u89e6\u53d1\u6267\u884c"),Object(b.b)(m.c,{__position:1,__code:"() => {\n  function getEmail() {\n    return fetch(`https://randomuser.me/api`).then(res => res.json())\n  }\n\n  function Demo() {\n    const { data, loading, cancel, run } = useAsync(() => getEmail(), [], {\n      manual: true,\n    })\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n\n    return (\n      <>\n        <Spin spinning={loading}>email: {email}</Spin>\n        <Button onClick={run} style={{ marginTop: 16 }}>\n          fetch\n        </Button>\n      </>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:t,Playground:m.c,useState:g.useState,useMemo:g.useMemo,Button:c.a,Spin:s.a,Form:i.a,Input:o.a,message:r.a,useAsync:d.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNAlgAMSFIglgaVAZnCJYjzgCo0lQ9CGPcAh0GY_C5UU9BPTgSQiNgSVtIIRJfRVVA8PVQiYAAQTgRJUHIeT3W0gRyEkCirJs5zVGwFSzMDSV7MYxUwVs6gUWOU4sJIwz4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZxSgAWLL2AANiynL1jAYD-O9aBEhS_hnEOBEHUwGChH4STqEoOB8oRarq1qmhnAgLDLnYABGYrcvkILdFCiy5hi9gIyg8gbCgdAw1QjkYrEdboxkdgUSi7hgGwyKsXkLca2ALboF24IADJXvGRJ5koZonp2vbuEBuUwGQyUBlQdp2AAfg2Z6wwjA6rj-l7UAW6spBkKs3zMGEzMwMAwigKYEcO470ZW5dqwsYASe4I7gBXCwQds7tzFPM8omgEmGapmsLC6Ag-nMMBRy2iNikIW57keTIMEiCiBBwI9JFmCBig5HAJjoCMujsOmJ3gf84GoBG3z5iw0cZw1QdZ9gtWoyhuatiwloI9BolcJYoEoDsCiWOJbPnJY0XMNDYtc6zbIjWmjvZzmoARpYAG0AF0lh583zaiVBQniK5UQZXLM4ts3i9d6F47WiiqJoqNeczmP1uj93SPYAAfNvWPkDXddCIm7A79hU45JPUpT9vO-AbucGo1xoCL4uLCTlvXDT532Gx-uawFoWycXhN7v32seLQM7eNQEyZ0u73fZnO7Z-gK5gAfqB5CkE_UEP_fGHYm5mWoewUBYjbEuiHNC51YCXSgglJKlhKAzCuNNcqqE7rr0ziLAgW00E1ikL_TiX9M5SAITWUufM0aZx3gIcwjB7Y0XYJuFc8hyG1kkBTLGZgvwgDgE5FyRE3K2UkJ5XABAtAUGAvoBgpl7RQXtvMcMtlEgABlbAEHIkRew8QoAeAlNsNRxFSK0D0WKMAeizxgBFn5OiboAovmMmYcgcFpJWH5BkRglh6brH7GwLIBtOaX1nLFVKdi8r9FYD4zAcFkiBOCRYLxYTaA9A8FcaOOBUmuESvcEIqBEjD1JtBGU1I3Ht1yOGSAzp0BiAOp3HOCQ1o1KgDEvsoSfEonSVMaJQVYnNISTEI8Ah7xXCRGtIJnTCyoBRGiSUQoIzkCSetA6-t8mREKZYYpyF8ZoGyGIJYET4JXBzkQQIAgDoZxrBMWwoYH7-LWrsxIxk-bnLgDgW5Nz5zwXuWcgkOBWn2lircj5FhHmaxcf0nIfy3l3JXEC2Za1ZkfMttWFE8C1qN1OS7ckAhLAuP2BGIFvSMj3g_FCr5-LQXDIBfiC5XQ_EFDWkC_56x5CNPyhRFFCyPG8wceKTF2Lwi4pJSCwlFKgXUrntc80sUtRZBwKgUYJNzSUqeT8gg8LGm9yPCi1JOB0kpEyUiYeVwllEBWUdTu6yYBlNzPrNFirvmkV-XbaVsqRgIwpVy9JWKjw4rxYK9ARLeYQGaPyi5syTlW0oeYZ0YwjUmp1vASgUBWDdGtevH1fT7xrSIgQT1MAcX-HcvM0mNrM6BvWtCjwYat6Z3LRGLVEYdUD07sPf1R8LCPANvSDVgAr5UAGeRgBF5UAFnagA300ABZqgAAfUANOagBC6KHYAGH_ACFNoASHNAAr8YAPbVADLfoAHPNsH83jYmmAddW01naAAOWHLrBNSb2BhKgAyPMmxzCCgSAUUStABA3s4ISUcpJyREXMnsVAzhQjkARE4j61AzwCCEEcNAKJxTKRCHYJEC8j4tv3swzOShbWirQAUNDZD8OoRXBGkpGzymqrMAi3G9o0BvoJu1HUMxWZwDcRyiw2dc5QChlcLwCbxSoCVPQyQ7BAD0ZoAMhVAC4ShOwAaMqAHMjQAMhGeITUAmcr6Mg3u4-wA5RzBPtsAHbxgAj6MACFugAX1MAClpgBr60AEueTJAPAdA3ATTEZ0BXEsOy69lAuC6eE4ABCNAD5SquwAwDG2cg9BpzU1QtCnc6wTz6BvPsEAIyagBSWKC5RoKBl5haeEDMTVaSMmDOybk_WMWvP2JClMWV8D9nZbZUWpl6WvrdH7MsoiYpBZUNY7l7V-Wsk5JTu5mNREilmtKZsipxly7NeNa10cQsrhTepG1oWjAkRHVivm2yhb9b1MQ714J1Gxx6AEPR7oS2qEADV4gMk66cm-hUUg8eEOSAT6wMhhauJFgQHyV6acsB8gOCIoDVfgR8kO82Ckzfa6gYbpGLVjbEB80lT8VxIoQVlkHxH4ChCPMDmYFKWVEVxxR1GQUDvHAtYTKUNtwbmX4eQRgYp6REzWqtw9hpkrrS1Q2grfWBsQ5gAzrHRNtnrEwHcK4si6CYAUco0KsVU4L3gcxq4jHmOC6ZwQNbXdcociuGd1Al3b0C8Z33TXcVqzlyTq0wxZ1Rzj3DkREiWRBdQ8N9dk3wuGw2ruwUK4BMoBERQ6sQOQP0czCD2DppLWYD66D0j83mdUe46D7uztU0FuQ6FinvsYRCdh6D0oRlaHy6kqrjNsAbiQXq9N6a2HlqKkRnNfX4v5XCzIXaeZYxEZUot_GYd8cDuY8WtxWiGA_r1gUTMRYgg0d3M2qoO3j4fQwxTAANSxWmhS3DBAl9QZdLFAuMAKUkdRVbBfNBd8r_YOvmaFL6vViw2LuA4-Let5DmXmAGiEjaJ2CkvLuqecDUupo9q9mcRsyMtki0Vx21AA7D0AF35QAWDlAAseTXUAGqIwANeVAAI2yMy3RXHLhDkcHb1hTaAv16D3xoApSzQjD1iOg2nYC1TgC9h9nu3zlH32kIxIzAFQFrX_2fytk1gfWcw9igKrU4CDQIJIPaSBnPx3zIJX0rSPlLQjCV3BieWoCAxA3gGfwT1bRUJChwHUPsy0KENIkI0w2wSUIkKIMBlihkMv30AUNbSoJoPWiggYJ2Q9iYNvge0NHiD_W7jMPNgwyCPXhIxXgpRLn4LiEwTwAjDeyFBEMXksOQkIMzBsLb1IOXwcJ0KSKDT0PGQMNQE-0cKPnyLUKKKg2mXiOOQiJCNEIsGSNQFSKkNsMkPsJoBKP3mcNJjoPcOhEqIEC8JYN8ID26ACNqLIXXmCL5hI2qNqO7nhR2RgDuBfxdlb1Rw_y_y0R0Vn0SJrDsLkJdBv032gOE0AFA7QAEzSZ0R0VwlDSV2iCBOjAUQUHi7V4FXVGEUdRxqCei3DUlGD-joN9kYAxhPtHxUd5hlIOQhjfcRj_COQ0MsNh5GlJtc9k1zItif9thdiU1OU2jDjMxjiKV21AAgs0AB0Fa424oNe4gkx4nIs5F42knAAnA9QjYI7o_WXo_4pYao4E0EgYx8FkqEmEoqOEsYhExYoefrFEt_LHDVQfTEnYlcDbOyHg7rAA3rIAwbY3IXKYcAuHcpNbNjc2dtQAIwNABYTUpK3juMZKyI6PpJmNmyoXGFtPIJ33VQPTrQbQnilIlKtmmINihzrzGzvyDyThDjXmrFWLGVCmVU2M0SxLZwsBVM514MAP60NX51AL1ODMNL2L5nbQU0ADc9MdQAehUrTM5XARg54pgQ41T60MkfTm1aiSMPT6zvTB5mzGEwyIyF5ozy5aN1N4g6d4zv8lTeYUy1TudNT-t8z9i38UjJDiDF9aTajYBazRw9ddS1lRtyMrYlCABCMopWdwTjH0g87fB4p47eUcFnas8cOsr0xszs_rQIgMpQg4u0loicRc9va8ttYTLtKTaTYdEdWdBAydGdVNV0q_WKKNZxPpbMhsbBRuQc99YcyOcgKcjJaE7BY8p9FTFINTdCqAXbbTDIbPCwQIgC9gQAIM1N1AA-6MADt_QAMLl2AON4hZ1ABMJUAA28wAEuiILp0h114lDLzaT2B3o9gmNVCTyc54h_yax20qyayfzuCnzdUmzXyJiawxKvy1p_ciJtK0J5w_1i0TThNILhL6jAy7yVKaSvzLk092znym0tKpj_Tw0nTzABZQyVwk58LlMX0jsb0lhjyOKoBg5kJIyqKZS-8DY7tRztjf8VxsKNT9UMzgDpsdSNcdyICKk5yaLAAmNMACNrQAKDlABCa0AAdTQAO2M10z98S9KiT9y8jpL9CCKgq30b0FLDywrTz5KHTzK6LN1F0-xAqZxZ0zjAAwFwqqMwrK6IiBmA-NEIDN3SDLQpvTp1Suf3mKtnbUABe3QAUuNAAF-MUy3lbOQmco0pfL9N5kL15nDOQlCtaoKPatU2CviGio3litCgB3nESsTNPzxJXMao32JOEwmCEDGHcEBKFC-JnxcK5O-R5IGL5PYDBPaF-tgGFPYB91FIMvFMROTmlNGUn3MS2BnxSq5x63Srn2avWgCufTes6v6rMoaPeqgE2rfOhFGLEPWiPOeqeXCoUv2oOsAB4FU6xeR81JBsq61ym68w_0M6ryrbY0zOT8t06_UG9eVHJazDXy-63quSiKqS5jZksaoi9myKriTgdmunT66Mkjb3Zg2E63P8XGlIIPXks6AxP8aooPFeK4V255TwvA9wQHCPZCK4Q2s8yShmwi4ij9GGOMq4LoO7OPEFZHLeVHbPD07PFkgvBee_NGThQabYVwNII2agQCXQECAwMCU5fgVAb0RkJAdgfgH4YsaoDIc0H8MkFuhefgJNAQfIagfgK4fgVKHASe1KHqdYfgcocgfoZ6setukACyM6PCWAaELAb0Pu8nMkSgRIXMPIWlU0SUc0Duv4UsWe6sfgPxFe_gIRI2G-iwee5YqXeECAeAFem1fgM-0QVu_gAAPSQRwAAA4cByoX6ax-B1IH6QAgGkwcAAAmSe6aaB1-wQTUS0SIeBkB8qcByB_gRlSjThTu7wD4agSAFISu1Aau8RUCEABmEAWgH0LIMe9u00Wgc0f-80WYGYfgeQBQJhIAA",mdxType:"Playground"},(function(){return Object(b.b)((function(){var e=Object(d.a)((function(){return fetch("https://randomuser.me/api").then((function(e){return e.json()}))}),[],{manual:!0}),n=e.data,t=e.loading,a=(e.cancel,e.run),A=Object(g.useMemo)((function(){return(((n||{}).results||[])[0]||{}).email}),[n]);return Object(b.b)(u.a.Fragment,null,Object(b.b)(s.a,{spinning:t,mdxType:"Spin"},"email: ",A),Object(b.b)(c.a,{onClick:a,style:{marginTop:16},mdxType:"Button"},"fetch"))}),{mdxType:"Demo"})})),Object(b.b)("h3",{id:"\u8f6e\u8be2"},"\u8f6e\u8be2"),Object(b.b)(m.c,{__position:2,__code:"() => {\n  function getEmail() {\n    return fetch(`https://randomuser.me/api`).then(res => res.json())\n  }\n\n  function Demo() {\n    const { data, loading, timer, run } = useAsync(() => getEmail(), [], {\n      manual: true,\n      pollingInterval: 3000,\n    })\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n\n    return (\n      <>\n        <Spin spinning={loading}>email: {email}</Spin>\n        <Button.Group style={{ marginTop: 16 }}>\n          <Button onClick={run}>start polling</Button>\n          <Button onClick={timer.pause}>pause</Button>\n          <Button onClick={timer.stop}>stop</Button>\n          <Button onClick={timer.resume}>resume</Button>\n        </Button.Group>\n      </>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:t,Playground:m.c,useState:g.useState,useMemo:g.useMemo,Button:c.a,Spin:s.a,Form:i.a,Input:o.a,message:r.a,useAsync:d.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNAlgAMSFIglgaVAZnCJYjzgCo0lQ9CGPcAh0GY_C5UU9BPTgSQiNgSVtIIRJfRVVA8PVQiYAAQTgRJUHIeT3W0gRyEkCirJs5zVGwFSzMDSV7MYxUwVs6gUWOU4sJIwz4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZxSgAWLL2AANiynL1jAYD-O9aBEhS_hnEOBEHUwGChH4STqEoOB8oRarq1qmhnAgLDLnYABGYrcvkILdFCiy5hi9gIyg8gbCgdAw1QjkYrEdboxkdgUSi7hgGwyKsXkLca2ALboF24IADJXvGRJ5koZonp2vbuEBuUwGQyUBlQdp2AAfg2Z6wwjA6rj-l7UAW6spBkKs3zMGEzMwMAwigKYEcO470ZW5dqwsYASe4I7gBXCwQds7tzFPM8omgEmGapmsLC6Ag-nMMBRy2iNikIW57keTIMEiCiBBwI9JFmCBig5HAJjoCMujsOmJ3gf84GoBG3z5iw0cZw1QdZ9gtWoyhuatiwloI9BolcJYoEoDsCiWGIjwEJY0XMNDYtc6zbIjWmjvZzmoARpYAG0AF0lh583zaiVBQniK5UQZXLM75wUEgKUTaAEVg84y1K66L4v5DN4vXeheO1ooqiaKjXnM5j9bo_d0j2AAHxH1im9DeBQiJuwx_YVOOST1KU9H8fgEn6jXGgBvi4XofXDT532Gx3uawFoWyb3hN7uv2seLQM7eNQEyZ0u73fZnO6t-gK5gB_qA8gpAP1QLfa-jB2I3GoDgAA4khGYZ0DKwEulBBKSVLCUBmFcaa5VUJ3WPpnCBHFmTUHsFAWI2xLohzuiiVw9pS7kJnFISBnEwF3yIVA8wpDyE7EugHDIOB8oUTukIoizDiGgIIebDhnE9ioDIRQvh_IBEokwTQiIMxxGcLYeAlhJD5E8MocAfhitdahCPHdMxR4tGsKkduPRqBYHwJ0XzKQLiT5WzRpnC-AhzCMHtjRdgm4VzyC8bWSQFMsZmC_CAOATkXJETcrZSQnlcAEC0BQYC-gGCmXtFBe28xwy2USAAGVsAQciRF7DxCgB4CU2xKnEVIrQRpYowCNLPGAEWfk6JugCi-YyZhyBwWklYZRAhGCWHpusfsbAsgG05q_WcsVUqDLyv0autBjjzngmtVZQULCzM2d0cgHgrjRxwJcuhKR7ghFQIkRepNoIympJM0euRwyQGdOgMQB1x45wSGtAFUA1mHI2fM2h9oVmgr7OCrZJj7xXCRHsmFrs0SSiFBGU55yDr62eZEV5lh3nIXxmgbIYgliYDgk1dgOciCBAEAdDONYJi2Cnosgoa0qXwWMnzVlcAcDcuSLFIVvKWUEhwJCqYIqdmJDFRYflmtxn3i5bK-V-I2WnLWqcsVltqyqIQbFfuzKXbkgEJYZR-wIyKoRegD8K4bXKpyNCh1EqugcpnGtRVor1jyBhaI7oRrcXTN5sM8U5rLXhGtRK219reaKvddvJZ7BzSxS1FkHAqBRgk3NBqgVUrdUwqsYG9alycDXNuUiReVx8VEEJUdceJKYBfNzPrE1ebJWkShXbDNWaRgI3VWGuhFqjxWsdYHe8ca-YQGaNGzVHgmVWx8eYZ0Yxa31p1vASgUBWCBpDXvcdGQVWxSIgQEdMArX-HcutYNcUz7TtnYq05i773myfR4CMZaIwVrXgvFOHIp13yCZIA29IjzsEAFfKgAzyMAIvKgAs7UAG-mgALNUAAD6gBpzUAIXRCHAAw_4AQptACQ5oAFfjAB7aoAZb9AA55nY0D27d09yAzWdoAA5YcusaPdGrlABkeZNjmAYeXPQVdey2DOqOUk5IiLmTkc4UI5AESjI-tQM8AghBHDQCicUykQh2CRLva-gG95hMzkoDtia0AFH0zWJu6rDMG0Fr4j5pLvmFrMHq3G9o0CVwJu1HUMxWZwEmfu9g2dc5QChlcLw27xSoCVMB9ggB6M0AGQqgBcJTQ4ANGVADmRoAGQiZnbsYSkCuGQONhdpeYhlMXHjsEAHbxgAj6MACFugAX1MAClpgBr60AEueTJUDSdk_AOAxWIzoCuJYW9rBKBcHKyBwACEaAHylYjgBgGI60plTfWpqLaFMN0b6BxvsEAIyagBSWLmy5oKBl5i0uEIa0tVzEqVvuY8_WI2xtDJClMLNmCrgvfO8av1R2vrdH7ASoiYo7OoAC2tT9l2blIpu_-p5LyxFEsbZ8slPzjKtz-3WgHo4hZXDR9SQHQtGBIiOrFK9tkb2k2BVpu5cqgpubHAJrz3Q8e-IAGrxAZCD5lH9CopHC8Ick0X1gZCW1cVbAgxUH2K5YMVcRbLzje2dsVIdsew5gEz4H8OHPNqR2IMVJi_4rgNfLzB6ri1G5mOqgNZvnOoxp1gVS-NCZShtuDcySTyCMDFPSIma1Cd0cNMlC75aruQ4edDvFKuPfTyJhS9YmA7hXAKXQTAxSymhViqnBumC_NXB835yPXuCBE4nrlDkVw1es84zAfPM9C93pdk9hetCWkiYIKvcORESJZEj0Div7PPc17EA2dtXOChXAJlAIiumZcIigGb3TSvYX_dV5j3xum9d1_Nob07mDdP82nkeZXS-1e777GEIic-QkNys-sVuJiO4Y7AJM8Z1fo_EsR98hsTaW12ulw3qgyFpVzI2kIxUpANW4zNACKJgCC4YA411gKJOlukCBo5b121_8aAPg-gwwpgABqWKaadVCAzA5TF0WKGAk3FfcwY1K2dAggYg7A9gPAmaazXVSlGAO4OA6sVuEOe_GAapBIOpHYC5cHa7UPUvLqJfF_KYBHRzclUmdtCrQAOw9ABd-UAFg5QALHkSNABqiMADXlQACNtasKMVxuDkJHAADtU2gMDegSCaB1VT0Iw9YjoNp2Ay04AvYfZud840Rugm4LNl1_cwcg8blm4-ZNYeN-sPZ5Dj4Z11oQ4zDMxAZYpaD6D9AX074YiIws9wYBVqAus5M4A0igMsiQocBciZN8iIjSILMjMpEMi4jLDpUgZkjrDsDCi757DHD1ooJXDKUPZ3DP4edDR4gJNfD1UajX0bM-Z_CD4xj9orYPhogxYhchQojX06jTCGiYomiGiUiaA2ji4MjijUAcjUBRd9i94jiTjRcIxljGVZi-ZJjzZ1j5FNjEjCwADdiCBzji4OjSZnCejoRlMhR-jPChiJ8fCAN7jLNj5Hi98gdASVNZjr9qxjM48CjUUG8DVeD-Dal6kUDVi-ZmisCXQmCCCVwKtABQO0ABM0rDJDFcDIkxT474xklo48A1AdEJA3UcBwv47oy5NwhEoUN7GAMYa49oA1eYZSDkEE0fMEkYyE31ZOf9DE44qYANbEmpQQ7YfEttYwnY1kzMUk9VCrQAILNAAdBVpPpMfXGSZI3z5RtINLoIDQ5N5hs1-P1n-P5KWFuOFNFKBIEEfADSlJlKKjlIhMA2M0XhVNCmLQ1IELxJXBJzskCIrRD2rQkPRyr3729xkK1w_wJPNgq0ACMDQAWE1LSz4GSHTiS9i7TzZ_CWTqy6Di1Ajv0rtf1F5qjUIl1KDNdv9rNdMk4Q4j5qxOD69VTEE6FICqlNSEzeYkzA9Uyqd0z10xFszpDeztcCy-YKsstAA3PRQ0AHoVcszOVwEYbeKYEOFsn9eeDs2Y_w5sr9a88eW8y_FcQc5CYciwUcwsccjzQreIN3OM3EoQxMyOZMstRcqtMPQLQkhveo8wpI_Uxs2Y2AC80cMvKPdcr_JHWYjIgAQkuKVncBC1_TwqIMdO-LhJ9zPPHEvMfLbJvP_U7MeIyKJJsMaNingprPbW3JAwgxS1S0QyQ2w1UPQyw2PgbPYqBRFLGUDikIbCkX7j_MEygDdxTKu2lKkUIr4xnAKxUspzpQZRPy_KhIq0ACDNcjQAPujAA7f0ADC5ILYi-IbDQATCVAANvMABLo0SzDBDaI2dcixs9gd6PYXzbIoinOeISimsCrU888icZCK8hi58piqEiwfyqS2KcfIiKEtCecCTHiwskDMSny19Ki4nGiqYSS7AqeMDGABKm5ds5KmEzxbs-EgWfst87S3LfjSuDjJYQi4LeIYOD8hub87g-cDwoCrUv3CwdSiHJc_9GtCPNct_WQn5LcqKkDQAJjTAAja0ACg5QAQmtAAHU0ADtjEjGgpCqSo0q2Q4kKkonS_LATDjSK_C_qxyqASKiwcy8jfDPsLqmcbDCkwAMBcDratjzr52TOyLZj5_DlKOM1KIKNKkSrYKtAAXt0AFLjQABfjssz57z4r6L6rGKFTXSByQ4-rbrjjBE_qHqer4hPyT5oyphp95xJq8TqDQ0LqGCrreYKsJghAxh3BBSBAuTkDOjPTJVvT_TfT2AxSmbYBgz2AR9QzMrwzWC_1vyECukthkCVxZrRDbsYKawbq_NKay5dLHqIrazp1zbVKwKXSjNoRwTOBZ0CLyaBUBr3rLaNr2B0bAAeBWxr3josuVbIJqSqJvGJasvjZr3jYs5vwKhIhqRPat5iTlevCqgDJuNvur0t6riq4k4Gtrdzpu_P8OHw8NlKbz_EVpSF0x9InNoBwFuN0wPiuArsFT6OMPcBn3n2QiuFTpIqCs6tNupv_KgGhgnPtCuC6C5zX3GX1zPgNRP2LRPwDV0yUF9WMjRhiUGm2FcDSCNmoEAl0BAgMDAmZX4FQG9EZCQHYH4B-GLGqAyHNB_DJCvobn4F3QEHyGoH4CuH4FShwH_tSh6nWH4HKHIH6HJp_pvpAAsjOjwlgGhCwG9Bfu2TJEoESFzDyE5VNElHNDvr-FLGAerH4EWSgf4FSSNiIYsFAfYKT3hAgHgCgfbX4BwdEGvv4AAD0cEcAAAOHAcqKhmsfgdSMhkADhpMHAAAJn_umkEeocEE1EtEiFEa4fKl4f4f4F9RcxiXvu8A-GoEgBSH3tQEPqyVAhAAZhAFoB9CyB_tvtNFoHNFYfNFmBmH4HkAUFCSAA",mdxType:"Playground"},(function(){return Object(b.b)((function(){var e=Object(d.a)((function(){return fetch("https://randomuser.me/api").then((function(e){return e.json()}))}),[],{manual:!0,pollingInterval:3e3}),n=e.data,t=e.loading,a=e.timer,A=e.run,r=Object(g.useMemo)((function(){return(((n||{}).results||[])[0]||{}).email}),[n]);return Object(b.b)(u.a.Fragment,null,Object(b.b)(s.a,{spinning:t,mdxType:"Spin"},"email: ",r),Object(b.b)(c.a.Group,{style:{marginTop:16}},Object(b.b)(c.a,{onClick:A,mdxType:"Button"},"start polling"),Object(b.b)(c.a,{onClick:a.pause,mdxType:"Button"},"pause"),Object(b.b)(c.a,{onClick:a.stop,mdxType:"Button"},"stop"),Object(b.b)(c.a,{onClick:a.resume,mdxType:"Button"},"resume")))}),{mdxType:"Demo"})})),Object(b.b)("h3",{id:"\u8868\u5355\u63d0\u4ea4"},"\u8868\u5355\u63d0\u4ea4"),Object(b.b)(m.c,{__position:3,__code:"() => {\n  function saveToServer(data) {\n    return new Promise(resolve => {\n      setTimeout(() => {\n        resolve(`${data} saved`)\n      }, 2000)\n    })\n  }\n\n  const Demo = Form.create()(props => {\n    const { data, loading, cancel, run } = useAsync(\n      data => saveToServer(data),\n      [],\n      {\n        manual: true,\n        onSuccess: data => message.success(data),\n        onError: error => console.log(error) || message.error(error),\n      },\n    )\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n    const { getFieldDecorator, getFieldValue } = props.form\n\n    const submit = () => {\n      const fromData = getFieldValue('name')\n      run(fromData)\n    }\n\n    return (\n      <>\n        {getFieldDecorator('name')(\n          <Input\n            style={{ width: 300, marginRight: 16 }}\n            placeholder=\"please input your name\"\n          />,\n        )}\n        <Button\n          type=\"primary\"\n          loading={loading}\n          onClick={submit}\n          style={{ marginTop: 16 }}\n        >\n          save\n        </Button>\n      </>\n    )\n  })\n  return <Demo />\n}",__scope:{props:this?this.props:t,Playground:m.c,useState:g.useState,useMemo:g.useMemo,Button:c.a,Spin:s.a,Form:i.a,Input:o.a,message:r.a,useAsync:d.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNAlgAMSFIglgaVAZnCJYjzgCo0lQ9CGPcAh0GY_C5UU9BPTgSQiNgSVtIIRJfRVVA8PVQiYAAQTgRJUHIeT3W0gRyEkCirJs5zVGwFSzMDSV7MYxUwVs6gUWOU4sJIwz4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZxSgAWLL2AANiynL1jAYD-O9aBEhS_hnEOBEHUwGChH4STqEoOB8oRarq1qmhnAgLDLnYABGYrcvkILdFCiy5hi9gIyg8gbCgdAw1QjkYrEdboxkdgUSi7hgGwyKsXkLca2ALboF24IADJXvGRJ5koZonp2vbuEBuUwGQyUBlQdp2AAfg2Z6wwjA6rj-l7UAW6spBkKs3zMGEzMwMAwigKYEcO470ZW5dqwsYASe4I7gBXCwQds7tzAqVgYEsShnAyDmBAjdBolcA6GapmsLC6Ag-nMZ0xmgmVqQjLo4EoKAOdJ0Xxa1s7R0sfkYH2CNafpxntYneBVY5iNigAEiuoW0PZ7JijfM2ayUdgACZUp912zfkP3xbR02lqmLVqOHWLBIEIgPlNWgEYjftKEHOm4rF8XQ9Y44haWKBKA7AoljiWz5yWNFzDQ2LXOs2yowzrXBdI0mna5nmBD5gWhY5XK3YsABtABdXu-81vuLCiVBQniK5UQZEfx-oZxQnIBFpKuJvXFJqSZL_elV_gOAu9InvTe16gzwEIQy2hK-hVJpbVb_fOUgjDJr4OgAfT_2B31w0hwO_IUb874CFPg3IOC8taBy1lnairhoBrQolRGi9dx7G3WkbTe7Bv6sQDqGeAoQiZ2FwUPDk_dUqDxwT_YA-D4HQCgdrfum9h5n3YDAzOIUCKnn4hAec6Bw5UEyBEAQSweF8J2gANXiAyOSsVk53BwLVGOQU3ZZ3pB4Ig45YoYLHmorh8ktRCzWuI_h0ioAMkfKgb0MBXxsIlshCM9EjEnzYcHCB5spYCHMGgvujB7rj2AKYnagihTRGAe0axR5Xy-PHgmUS4lRAeLdudWAl0oI4nQBMK4SYfaSVcIlNAIoIApEIFcaa5VUJoziVrMkEoYDDB2hkPgIAyTiiIpwMS4RIRHCiYyEA9itabkYWbDk1S4mMHYjcaggzxYGXmC0_s_ICmJH4LMms-dC4zkupswqKRxk1OoPYKAsRtiXQ0VoggBy4mpJgOk3-BSkpcxmOUyp8hrluwCTc1wHN1lSCmZxL52spBAprBw_aptJbS1rOHGi7BNwrnedGSQFMsZmC_CAOATkXJETcrZSQnlcAEC0BQYC-gGCmXtFBcO8xwy2USAAGVsAQciRF7DxCgB4CU2xWXEVIrQXlYowC8rPGAMAWwph0TdAFF8xkzDkDgtJKw-sBCMEsCbPK_RWBZHNlENABQ1qpTlZqtgOrMBwWSLFI1qi-xap1eQDwVwjY4BdY8-4IRUCJDIaTeWkRqRqpwbkcMkBnToDEF_dgU8EhrSjVAY1FglnatoGdUi9orXxttaa5NMQjwCHvFcJEhqM2hzRJKYBDqnUHTTr6rRREA0_2QvjNA2QxBLHNfBK4U8iCBDAenOZBICF6pMjONa7bEjGX7bYHAY7R3znghOmsEwp0ogKVMWKY6F0WCXXAHAOaMj3lnRazd-Ip0OrWg6hd7iLAohTmtXRK4FXigEHrI8htt27pVfeD8K5317rzTkdNP6B1dCHQa2K76N3rHkBm_KFE71Vo1Znckz79ZvoHX-r9x730gYQcO2c5pYouL_KgUYJNzQnp3Su4Ul6M3K1CEeO9LqcBuoLZ6shVwa3-vVYGxtMAQ25jTnoijOAqNrvYERnAJGRgI2PY-gpL6DbhAjL-z96Bv1iwgM0ZTA6HUi0haOaFssup-rreqpWFs1bdEE2wlTuaD2xSIgQBTht_DuXWghvtfdNPrXfbpzz49fMeAjExiMbrqHsDIepmpjxzb0gY4AK-VABnkYAReVABZ2oAN9NAAWaoAAH1ADTmoAQuj0uABh_wAhTaAEhzQAK_GAD21QAy36ABzzdZytLYwFiXE9oAA5YcTXLPsG1RY7oIxNjmEFAkAoolaAd17LYHWLK-zkg6XBpeK8152A-hfUBnSUTimUiEOwSIRnayi33D57sljYfoXho7QcruoRXFC7xQam2hpo2YdxuN7RoAmwTdqOoZiszgGqxDDyp7xChlcLwT93BKnhZIdggB6M0AGQqgBcJVy4ANGVADmRoAGQj1gjZOTOcbvNQedvoz26HMXAB28YAI-jAAhboAF9TAApaYAa-tABLnkyVAy8D7STB-tdAVxLAedYJQLgZPYeAAQjQA-UpVcAMAxbPL7X252_K4cuhQC6F-gEX7BACMmoAUljpevaCvM7oJHb06KYyxj1XrB6q-F_KgxxuXmRuEDMeDGtoMG6-t0ZOtaYBii8agQHjHXWJXdUib11aFamZ48G5tYbjJZy99SX30srgJ6Ikn7xjAkRHViq52y7nSaxt2xb4172xx6AEN97o6fUDmIZAHseuyCjg-EOSVAC6gECG58rgQC7N7c8sAukuCIoCdqdwuiuKeI8-4MxnywUenstoXX-q4Qmb0O_t8eujR5R8p2PbBoiO-ZgvdRkFUvxw-OEylKDVm5k8XkEYGKekRM1pZ98WAZK60zfB9Y5bjznG62P5EIECtrrCYB3BXA0p0CYD0pMqhSxRDwjwpz_ZXC_b_YP6EJEzZ54K5QchXDV614wDoFP7AGeZZz9wroCozZULVxEQkRZDoF-4EFEFAFiANhCaN5FSGjxBERQJD7ziH5QIT62ombT5-5QLL7-Y1hr4CH6ZxZTSp6iHSwjL75TT25QJKBQZHZZx_pIJp58ZqoqrMGYHz58Yx4Ni8b8ZqaD4GJUDIRiYURCoRipRaEGL6r2F6FgDKZogwDqbrAUSiriqShGweZCa2E0AfB9BhhTAADUsU00x6bhERV8Lo4G3hm-M-PiIRIcbQ4RvQyRmYsRM0x6bu1YHsYBcAvh1YWcFcuhMA7KCQXKOwzqQeKQIebGVuHGU-RhUwDa0eoa2eQOFgMWgAdh6AC78oALBygAWPLVaADVEYAGvKgAEbbU71YPoGIVyOB2Hno5EEBJFRHHqOYRh2BpwbTsBMZwB5wFx7KzzeH7Q3b3bmDv7BYtEVGmy7pDbHxbzWYeLeZKzIQbGZiAyxRhE7F5FRF6bJKcBaZIHgw7pLac4VGSFuzQkhQ4BwkrYfE3bawnbiw_HrHbExRAzAm7H6Dgk1IHFHFHQnFnFtq5zsAcEpBXAExQAdIByYlazYm3YeL3E5ykTHoWAByvFxAEBbQgLXwaxsK4l_H4mAmFh2HEk0CkleZQl_YwmomoDd6KmLwqkonrbXyikq58nsmDKSmoD_FrqEnbHykECal9zkmkxUkurnG3zXwXFbIMlcHMndCsmGlBxuJsLckd6GkByXptowB3CVEWDqIRDO40F1EcqNHbDBHilixEmgkuiFHxErgxaACgdoACZphWmWK4Pxf6VpNpW6KqVpIm0ZMmiKK4dpxxUE1JzpQonaMAYw3ej4a-8wykPcdJlxTeHpLJHIR2HsZCxaBiKhtR9RnK3KSZXxnCcpaZBRcRx6MWgAQWaAA6CgWUWVpiWUudaYieMBWfuTgCoTWWLNcvWZSY2Y6UsB3q2e2aAo-CoT2a6VcYOV6cOSGRFlbuOagKFFvlZuZNOQma1rnnZE8cxt_hbuxsZt7t0SYZYQMYeTFoAEYGgAsJrbkNzFnHmREkmHkSwZFHm5qVmAWQWhbB7haRZBn6Z-6PamHPaIpQL9wVysLVgRmFj_lTCiZTnxmzkrjgWf7PE_6wX_6EGAHP69EL5hrJnawxZY6ABuetloAPQqWF2srgIwCCUwFc5FYWpCVubJ3JZFIWelP81FTFK4LFyEbFFgHFWcn2hOUAd-vFDR_FYsglkF5uoeVuslsCaxUpmxQJlp-5hpsA2lo4eBGBPR9FlhhpPxAAhMif-TgJPNPFAOFvFYkfuWWTWJLC_ppeODpSZZRfpV-abCdj8amXhQCUDHiXYTlUMbDvFijqjhlplkVuMXloVjZrhfkWJkZgpqqhJcAa1trBgg5ZNk5bXOQJ5cHuAlqf9qearHjikATpNUXl2j2gduwj6TDuwIAEGadWgAfdGAB2_oAGFywOaVRWgAmEqAAbeYACXRnVBW6WEpWmWV1VUw70ew2pyVqV8QDVNYMWGlWlE4jixVrRVFBlu1Fg71fVa0TJREu1aE84HSQmclsOXVL1EJeVOeBVUwe5H1BCchulJVZlUNfpDcJ2Rlo4xRzFSVO6uOY25efWSw9NKV7gaV5c1lI8dlax84lxLlM5TRK4s1rRIlHRcF_qw1iFZhvl4sMWgATGmABG1oAFBygAhNaAAOpoAHbG1W2Ri5H17AGZcVypi1jN-OzN_1BFkJ60iVP1O6f1UAANjVB1dWZWfYy1BQRW2ZgAYC7q3U5qW2nVlsn8n-lEUTV9Z36i0VE0UNwxaAAvboAKXGgAC_HY4NxGVg0uoUUQ2lU3YaFixWVcTfWm0e3m0TZ9Y2U7U2pZx8HpWxkgWzn3opnBUG1G1Zmw4TBCBjDuDNkCB1mjiHH2k3kiZ3mgIPnsAdntA13ZCvhvkDkI2fkjlLBjk2r-FioSqtZR3i1ZHYUm2qlm2rUW2O1W3h3xCR1snI2enW0Ri22LUO0A3x0J2AA8CqnW7EVZnaZT-WVZTTauLNyY3fovrXDa3R4mvueVibTZZWzQ7azXbUtaNqXY5VzYXSfVNe5BXRxdyewf2ZwRQc_NgykFAveSmlkIAqAlApvFcLg9OrnA-u4MPoIchFcFAxzb2F9WzfvWtX1tDMQ_aFcF0LsuISqivqbGviMoBcoWEDwRZaUcZGjBioNNsP_H-JoNQIBLoCBAYGBGPPwH0vwFcPwD8MWNUBkOaD-G0j1OsPwHzPkDMkgOwPwKlDgI46lBY9WPwOUOQP0D9Xo_YyABZGdHhLANCFgN6G0ufmSJQIkLmHkAaqaJKOaIY38KWK4xYPwEOj4_wISv-HACk742AVAfCHwjk3Y0JvwHE6IHY_wAAHoVI4AAAcOA5UuTqTIA6kGTIAVTSYOA3sOA00zTvj5TlokQ7TNT5U9TjTaypRr2GKRj3gHw1AkAKQ2Tqj2g6j5KWj_AtAPoWQejBj8cMA5ogzswMw_A8gCg7yQAA",mdxType:"Playground"},(function(){var e=i.a.create()((function(e){var n=Object(d.a)((function(e){return function(e){return new Promise((function(n){setTimeout((function(){n("".concat(e," saved"))}),2e3)}))}(e)}),[],{manual:!0,onSuccess:function(e){return r.a.success(e)},onError:function(e){return console.log(e)||r.a.error(e)}}),t=n.data,a=n.loading,A=(n.cancel,n.run),i=(Object(g.useMemo)((function(){return(((t||{}).results||[])[0]||{}).email}),[t]),e.form),s=i.getFieldDecorator,l=i.getFieldValue;return Object(b.b)(u.a.Fragment,null,s("name")(Object(b.b)(o.a,{style:{width:300,marginRight:16},placeholder:"please input your name",mdxType:"Input"})),Object(b.b)(c.a,{type:"primary",loading:a,onClick:function(){var e=l("name");A(e)},style:{marginTop:16},mdxType:"Button"},"save"))}));return Object(b.b)(e,{mdxType:"Demo"})})),Object(b.b)("h2",{id:"api"},"API"),Object(b.b)("pre",null,Object(b.b)("code",Object.assign({parentName:"pre"},{}),"const {\n  loading: boolean;\n  error?: Error;\n  data?: T;\n  cancel: () => void;\n  run: () => void;\n  timer: {\n    stop: () => void;\n    resume: () => void;\n    pause: () => void;\n  };\n} = useAsync(params);\n\nparams:(\n  service: (...args: Args | any) => Promise<Result>,\n  deps: DependencyList = [],\n  options: {\n    onSuccess?: (d: T) => void // \u6267\u884c\u6210\u529f\u7684\u56de\u8c03\n    onError?: (e: Error) => void // \u6267\u884c\u5931\u8d25\u65f6\u7684\u56de\u6389\n    manual?: boolean; // \u662f\u5426\u521d\u59cb\u5316\u6267\u884c\n    pollingInterval?: number; // \u8f6e\u8be2\u7684\u95f4\u9694\u6beb\u79d2\n  }\n)\n")),Object(b.b)("h3",{id:"\u7ed3\u679c"},"\u7ed3\u679c"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null})))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"loading"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u662f\u5426\u6b63\u5728\u52a0\u8f7d"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"boolean"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"error"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8bf7\u6c42\u9519\u8bef\u6570\u636e"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"Errow"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"data"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8bf7\u6c42\u6210\u529f\u6570\u636e"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"(value: any) => void"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"cancel"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u53d6\u6d88"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"run"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u6267\u884c"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => Promise\\<T",">"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"timer.stop"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u53d6\u6d88"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"timer.resume"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u6682\u505c"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"timer.pause"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u7ee7\u7eed"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))))),Object(b.b)("h3",{id:"\u53c2\u6570"},"\u53c2\u6570"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u9ed8\u8ba4\u503c"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null})))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"service"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u5f02\u6b65\u8bf7\u6c42\u51fd\u6570"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"(...args: Args ","|"," any)=> Promise"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"deps"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u4f9d\u8d56\u6570\u7ec4"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"any[]"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"[]"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"options"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u53ef\u9009\u914d\u7f6e\u9879\uff0c\u89c1 Options"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))))),Object(b.b)("h3",{id:"options"},"Options"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u9ed8\u8ba4\u503c"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"manual"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u662f\u5426\u9700\u8981\u624b\u52a8\u89e6\u53d1"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"boolean"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"false")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"pollingInterval"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u95f4\u9694\u6beb\u79d2\uff0c\u53ea\u6709\u8bbe\u7f6e\u4e86 pollingInterval\uff0c\u624d\u4f1a\u5f00\u542f\u8f6e\u8be2"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"number"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"onSuccess"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u6267\u884c\u6210\u529f\u65f6\u7684\u56de\u6389"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"(d: T) => void"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"onError"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u6267\u884c\u5931\u8d25\u65f6\u7684\u56de\u6389"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"(e: Error) => void"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")))))}O&&O===Object(O)&&Object.isExtensible(O)&&Object.defineProperty(O,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src/useAsync/index.mdx"}}),O.isMDXComponent=!0},"./src/useAsync/index.ts":function(e,n,t){"use strict";t.d(n,"a",(function(){return j}));var a=t("./node_modules/_@babel_runtime@7.6.2@@babel/runtime/helpers/esm/defineProperty.js"),A=t("./node_modules/_@babel_runtime@7.6.2@@babel/runtime/helpers/esm/slicedToArray.js"),r=t("./node_modules/_@babel_runtime@7.6.2@@babel/runtime/regenerator/index.js"),o=t.n(r),i=t("./node_modules/_@babel_runtime@7.6.2@@babel/runtime/helpers/esm/toConsumableArray.js"),s=t("./node_modules/_@babel_runtime@7.6.2@@babel/runtime/helpers/esm/asyncToGenerator.js"),c=t("./node_modules/_@babel_runtime@7.6.2@@babel/runtime/helpers/esm/classCallCheck.js"),l=t("react");function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(t,!0).forEach((function(n){Object(a.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var b=function e(n,t){var a=this;Object(c.a)(this,e),this.remaining=0,this.delay=0,this.cb=null,this.start=0,this.timerId=0,this.stop=function(){clearTimeout(a.timerId),a.timerId=0,a.remaining=a.delay},this.pause=function(){clearTimeout(a.timerId),a.remaining-=Date.now()-a.start},this.resume=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];if(a.start=Date.now(),clearTimeout(a.timerId),a.cb)return new Promise((function(e){a.timerId=setTimeout(Object(s.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.cb&&(a.cb.apply(a,Object(i.a)(n||[])),e("No resolve value when pollingInterval is set, please use onSuccess & onError instead"));case 1:case"end":return t.stop()}}),t)}))),a.remaining)}))},this.remaining=t,this.delay=t,this.start=t,this.timerId=t,this.cb=n};"undefined"!==typeof Options&&Options&&Options===Object(Options)&&Object.isExtensible(Options)&&Object.defineProperty(Options,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Options",filename:"src/useAsync/index.ts"}});var m=function(){},d=function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function j(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(l.useState)({loading:!1,cancel:m,run:d,timer:{stop:m,resume:d,pause:m}}),r=Object(A.a)(a,2),c=r[0],g=r[1],j=Object(l.useRef)(void 0),p=Object(l.useRef)(0),O=Object(l.useRef)(!0);Object(l.useEffect)((function(){return p.current+=1,O.current=!0,function(){p.current+=1}}),n);var B=Object(l.useCallback)((function(){var n=p.current;return g((function(e){return u({},e,{loading:!0})})),e.apply(void 0,arguments).then((function(e){return n===p.current&&(t.onSuccess&&t.onSuccess(e),n===p.current&&g((function(n){return u({},n,{data:e,loading:!1})}))),e})).catch((function(e){return n===p.current&&(t.onError&&t.onError(e),n===p.current&&g((function(n){return u({},n,{error:e,loading:!1})}))),e}))}),n),C=Object(l.useCallback)((function(){p.current+=1,j.current&&j.current.stop(),g((function(e){return u({},e,{error:new Error("stopped"),loading:!1})}))}),[]),E=Object(l.useCallback)((function(){p.current+=1,j.current&&j.current.pause(),g((function(e){return u({},e,{error:new Error("paused"),loading:!1})}))}),[]),I=Object(l.useCallback)(Object(s.a)(o.a.mark((function e(){var n,t,a,A,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j.current){e.next=3;break}for(t=r.length,a=new Array(t),A=0;A<t;A++)a[A]=r[A];return e.abrupt("return",(n=j.current).resume.apply(n,Object(i.a)(a||[])));case 3:return e.abrupt("return",void 0);case 4:case"end":return e.stop()}}),e)}))),[B]),y=Object(l.useCallback)(Object(s.a)(o.a.mark((function e(){var n,t,a,A=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=A.length,t=new Array(n),a=0;a<n;a++)t[a]=A[a];return e.next=3,B.apply(void 0,Object(i.a)(t||[]));case 3:return e.abrupt("return",I.apply(void 0,Object(i.a)(t||[])));case 4:case"end":return e.stop()}}),e)}))),[B]),w=Object(l.useCallback)(Object(s.a)(o.a.mark((function e(){var n,a,A,r,s,c,l=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=l.length,a=new Array(n),A=0;A<n;A++)a[A]=l[A];if(r=p.current,t.manual&&O.current){e.next=6;break}return e.next=5,B.apply(void 0,Object(i.a)(a||[]));case 5:s=e.sent;case 6:if(p.current!==r){e.next=15;break}if(j.current=new b((function(){return w.apply(void 0,a)}),t.pollingInterval),!O.current||!t.manual){e.next=12;break}O.current=!1,e.next=15;break;case 12:return e.next=14,(c=j.current).resume.apply(c,Object(i.a)(a||[]));case 14:s=e.sent;case 15:return e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)}))),[t.pollingInterval,t.manual,B]),Y=Object(l.useCallback)((function(){p.current+=1;for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.pollingInterval?(t.manual||C(),w.apply(void 0,n)):B.apply(void 0,Object(i.a)(n||[]))}),[B,t.pollingInterval]),Q=Object(l.useCallback)((function(){p.current+=1,g((function(e){return u({},e,{error:new Error("canceled"),loading:!1})}))}),[]);return Object(l.useEffect)((function(){if(t.pollingInterval)w();else if(!t.manual){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];B.apply(void 0,Object(i.a)(n||[]))}return function(){p.current+=1,C()}}),[t.manual,t.pollingInterval,B,w]),{loading:c.loading,error:c.error,data:c.data,cancel:Q,run:t.manual&&t.pollingInterval?y:Y,timer:{stop:C,resume:I,pause:E}}}"undefined"!==typeof ReturnValue&&ReturnValue&&ReturnValue===Object(ReturnValue)&&Object.isExtensible(ReturnValue)&&Object.defineProperty(ReturnValue,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"ReturnValue",filename:"src/useAsync/index.ts"}}),j&&j===Object(j)&&Object.isExtensible(j)&&Object.defineProperty(j,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useAsync",filename:"src/useAsync/index.ts"}})}}]);