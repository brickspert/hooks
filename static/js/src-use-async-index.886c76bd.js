(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"./src/useAsync/index.mdx":function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return O}));var A,a=t("./node_modules/_@babel_runtime@7.6.2@@babel/runtime/helpers/esm/slicedToArray.js"),r=(t("./node_modules/_antd@3.23.4@antd/es/message/style/index.js"),t("./node_modules/_antd@3.23.4@antd/es/message/index.js")),o=(t("./node_modules/_antd@3.23.4@antd/es/input/style/index.js"),t("./node_modules/_antd@3.23.4@antd/es/input/index.js")),i=(t("./node_modules/_antd@3.23.4@antd/es/form/style/index.js"),t("./node_modules/_antd@3.23.4@antd/es/form/index.js")),s=(t("./node_modules/_antd@3.23.4@antd/es/spin/style/index.js"),t("./node_modules/_antd@3.23.4@antd/es/spin/index.js")),c=(t("./node_modules/_antd@3.23.4@antd/es/button/style/index.js"),t("./node_modules/_antd@3.23.4@antd/es/button/index.js")),l=t("./node_modules/_@babel_runtime@7.6.2@@babel/runtime/helpers/esm/objectWithoutProperties.js"),g=t("react"),u=t.n(g),b=t("./node_modules/_@mdx-js_react@1.5.0@@mdx-js/react/dist/index.es.js"),d=t("./node_modules/_docz@1.2.0@docz/dist/index.esm.js"),m=(t("./node_modules/_antd@3.23.4@antd/es/select/style/index.js"),t("./src/useAsync/index.ts")),j=(A="Demo",{}),p="wrapper";function O(e){var n=e.components,t=Object(l.a)(e,["components"]);return Object(b.b)(p,Object.assign({},j,t,{components:n,mdxType:"MDXLayout"}),Object(b.b)("h1",{id:"useasync"},"useAsync"),Object(b.b)("p",null,"\u4e00\u4e2a\u5e2e\u4f60\u7ba1\u7406\u5f02\u6b65\u51fd\u6570\u7684 Hook\uff0c\u652f\u6301\u7acb\u5373\u6267\u884c\uff0c\u624b\u52a8\u89e6\u53d1\u6267\u884c\uff0c\u8f6e\u8be2\u3002"),Object(b.b)("h2",{id:"\u4ee3\u7801\u6f14\u793a"},"\u4ee3\u7801\u6f14\u793a"),Object(b.b)("h3",{id:"\u7acb\u5373\u6267\u884c"},"\u7acb\u5373\u6267\u884c"),Object(b.b)(d.c,{__position:0,__code:"() => {\n  function getEmail(id) {\n    return fetch(`https://randomuser.me/api?id=${id}`).then(res => res.json())\n  }\n\n  function Demo() {\n    const [state, set] = useState(0)\n    const { data, loading, cancel, run } = useAsync(() => getEmail(state), [\n      state,\n    ])\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n\n    return (\n      <>\n        <Spin spinning={loading}>\n          <div>id: {state}</div> <div>email: {email}</div>\n        </Spin>\n        <Button.Group style={{ marginTop: 16 }}>\n          <Button onClick={run}>reload</Button>\n          <Button onClick={cancel}>cancel</Button>\n          <Button onClick={() => set(c => c + 1)}>increase id</Button>\n        </Button.Group>\n      </>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:t,Playground:d.c,useState:g.useState,useMemo:g.useMemo,Button:c.a,Spin:s.a,Form:i.a,Input:o.a,message:r.a,useAsync:m.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNAlgAMSFIglgaVAZnCJYjzgCo0lQ9CGPcAh0GY_C5UU9BPTgSQiNgSVtIIRJfRVVA8PVQiYAAQTgRJUHIeT3W0gRyEkCirJs5zVGwFSzMDSV7MYxUwVs6gUWOU4sJIwz4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZxSgAWLL2AANiynL1jAYD-O9aBEhS_hnEOBEHUwGChH4STqEoOB8oRarq1qmhnAgLDLnYABGYrcvkILdFCiy5hi9gIyg8gbCgdAw1QjkYrEdboxkdgUSi7hgGwyKsXkLca2ALboF24IADJXvGRJ5koZonp2vbuEBuUwGQyUBlQdp2AAfg2Z6wwjA6rj-l7UAW6spBkKs3zMGEzMwMAwigKYEcO470ZW5dqwsYASe4I7gBXCwQds7tzFPM8omgCMuAOhmqZrCwugIPpzDAUctojYpCFue5HkyDBIgogQcCPSRZggKGuG4AASYAuHkYoORwCY6AjLo7DpxmBYneB_zgagEdy62azfZ20at5mweZLVqMoEm-ediwlqmABtFEyLO0cAF01ookisgjVLXcD4PWOOaJXCWKBKA7AoljiWz5yWNFzDQ2LXOs2yI1po72c5qAI3D2gOSWEOrYFpuYCdwOo-T53U-o1xoFjoiqJoqN-edmv1ur9AM_YAAfBfWPkI3zdCIm7CX9gQ97kPUpj7fgFXnBB-gbvA53ufSKji_rexyeayFkWycvhN7rf2seLQM7eNQEyZyXWzrnGcd126BxjLILgVxgCd3kBjWMtZMZnygDAlB8CdyyHAQLKQ39UAfzfowdiNxqA4AAOJIRmGdAysBLpQQSklSwlAZhXGmuVVCYDH6XyIRxZk1B7BQFiNsS6Jc7pdGAegKQxDOIEM_jwkh5h-GCJ2JdAuCIoB3TUfOKRvD8HYOtvIziexUACKEZdaeRECARjsnTHo7AADUM0OR3TQOQU0RFOCSMkNI6gsiIHeN0eQyhficGbnAX3GsaNnbPwEOYRgPsaLsDCfzeQUTaySApljMwX4QBwCci5IiblbKSE8rgAgWgKDAX0AwUy9ooI-3mOGWyiQAAytgCDkSIvYeIUAPASm2J04ipFaCDLFGAQZZ4wBiz8nRN0AUXzGTMOQOC0krD8gyIwSw9N1j9jYFkG2nMAGzliqlRZeV-isH2ZgOCyQTlnIsLsy5tAegeCuNXHAHzXCJXuCEVAiRd4HVsdBGU1JNmL1yOGSAzp0BiAOsvVAG8oBrQRQke5fYLn7PDvaO5QUHkYueTEI8Ah7xXCRGtU5uLCyoBRGiSUQprGvPWoCo6wLIigssOC5C-M0DZDEEsa58ErgIqIIEAQvMVwTFsKGM-Ry1oCsSMZAWkq4A4HlXK-c8FFU1mVTgLFUxYryq1RYHVhKMj3nVTco1-IpXkA8GtW1Wr3bVhRMwta08A41mWeKAQlh1n7AjCa9ZxL0AfglQSY2QbzU4v5jqrohyChrR1Ya9Y8g0X5Qom65lcV-Zeq-b6o8_rA1EvvKGmN4a41D1leaWKWosg4FQKMEm5prUqr1Y6tF68jxuo-TgL5KQflIgBVcVlRB2VHWXlymAULcy2I9ca8Neq1q1toPWxtpaBa5p9X68IAbw2muDeumsEBmi7ptR4cVj8YnmGdGMEdY6zbwEoFAVg3RZ3gKLWanIsVLH5pgP6_w7kmWkznYHY960dW2ovZ_edZ6Iw9ojH2rey8AWHs_o8G29Iu2ACvlQAZ5GAEXlQAWdqADfTQAFmqAAB9QA05qAELoojgAYf8AIU2gBIc0ACvxgA9tUAMt-gAc830YLR9z6YAT2gzWdoAA5Yc5sn0vvYJcqADI8ybHMIKBIBRRK0AEDJzghJRyknJB4jN1BnChHIAiVZH1qBngEEII4aAUTimUiEOwSI76X1Q4HNJbslixplQUVzFhV5WvczbYWsSIXcuhe2swTrcb2jQGpgm7UdQzFZnATZ2zqxRARfEKGVwvBPvFKgJUSTJDsEAPRmgAyFUALhKFHABoyoAcyNAAyETsp9giZyqYyDJ7L7BhWisK-hwAdvGACPowAIW6ABfUwAKWmAGvrQAS55MlQIZ4z8A4CdYjOgK4lgs2sEoFwXrxXAAIRoAfKVWOAGAY2bFmrPLammdoUG2tvoB2-wQAjJqAFJY47kWgoGXmF14QVDYpwc-d80lfyAWk029tpZIUpgNuYUK77mbgOpve19bo_Y2VETFMF1AqXu3_f7YD_5vdSZ3qImCidkKeUwuMqnFHo60ejhFlcan1J0ci0YEiI6sUAO2SA7YlFSL_C_IVUFaLY49ACHi90ZnsSABq8QGRY49RIgoOXhDkgK-sDI52rhXYEFq6-rhOuWC1Vo1BX3mFapLgzkFtOMck9C1O8nYgtX7pgSuF1LDTczCtZ2qaUPPcrnTURGHZuU3GSi1gVS-NCZSlBqzcyRTyCMDFPSIma02eCcNMldaPbEN4-B0Cq3MBE_wA3gQPl6xMB3CuA0ugmBmltNCrFXe3dmHJauIl5LRfk-l7WsfXKHIriS9QDL2Thek8l7S0HCHO9O5LEsTHcuRF460CLxj4fcux9EzEA2EDiuiqGniERO-xug8zDvhb9FqOYCD7vs77Nzs3cn-cxh0IR5LeX-v1bAPPvvt3yUCmw9qc-6I8V-U6myQane4-nKZO0KDYk606IaRuU-VAyE-q5kYyicABU-aA44C-IBYAAaaIMAmB1KUwMAL6Ag0EYQREX6aBU6EYBMUAREpa6wFEky0yVi7qK4yBNAHwfQYYUw9isU00Vq2BBAvBlmLosUqIDIXudOIWnBj83BYhvQEhmYghM0AWjq_KMAdwzB1YqcJcwB3SCQfSOw7yOOA6QOvcw6BeEBKepOYWvKwGK46GgAdh6AC78oALBygAWPJsaADVEYAGvKgAEbZDZcZcFT4lyOAoH2ptA8EqH8FWqWKNykwbTsA9pwBZw5yFQpBXDSHdCryuZXoZ5_a9rfIRIWDGwKYrbzxvpcKcAnqRGxH6pAxKHiH8FQZvxgYRgt7gwqoGZGYmZwAdGfw9EhQ4D9ELbSTVGkS-bWyBb36jjJG2KpHpH8oZyZEgI5H76MH5EcizF-bgJFF65Wp-blFpFxAEASwa5CjOF1FdGNHRGAyxStHxH6DDGgYnqjHUrjGoDa7vGXxfF9G_GWb0rXFionFzH6JJEWxHQrEfIZHQggkCAbHZFXAMEeIFEQkHF1FFFgkQn-YpraG6Foqpxu5GE9KmHbDVxZogZkEZCUEUToBtGSHjCEFWovF8EujqHCEuHFaACgdoACZpNGJGK4XR-6zJNA_x4wQaEpYhbuCMAWruixMJ60UEqxiJVmQqMAYw2uj4bu8wykLc7Au-Wx6Juxh6SgO8vcJJU-X-5JJh_S1JtxAsdJFBVB2QspiabJ4RKBnp3JVq6GgAQWaAA6CsKaKSeuKa8ZKXftbJGZyTwV_gqSuIFtCSkWqfCUsGCVqTqUiY-F_oaSiUrtsRiXsVoVaXoZPiQc_l2rgcYb0o6ZznZCUYhv3l1JfnYVMA4fbjAc6TWOhoAEYGgAsJphn8xdEACErpDJ1BspUp6GgAaZmACE1g1tWd0HRoACl6gA016ADOyg1rRoAPFpgAcCqUY0ZWyuAjBDxTAlzNllGKmjkRkylRkEBSlFFxmqFiHe4lEIbfKLzIa9yuaBZFFwHk5lkAo2lVmxbtbxDx72n1lmEriNlZ4WE0lWwGHIRRGZjPFNGykQmwCXmjgD7F72F27wEQnjmAkqzuChC9jbxjmiEzkxnRKjip7nnjhXnwaIY_nlmzHzH1HrQclvkxRAwPHRkgYCzoZYZVbVbEYka0aeHHlEbvoPnxmoE3prJEodkNj6LTwQXqZQWVzkDXn9otz6LkVKYtYpBta6V852DdYZBP4WD7FFbsCABBmpxoAH3RgAdv6ABhcuwBllRVALRoAJhKgAG3mAAl0XJdRgpXcSenRY-ewO9HsElr0RRZllAFKWJcVmeReROMhJ-RxdvChliUeiZMocpWtGaUVWhPOB4qJdbOhvJfokLMxdla-fwdKphgJuxd-QVX-ZVVbDxUUULAFnfCHKZc1ipqLjJksORX5fEMXMhLfOsBWVSqFOIlkTBZSenhYIZUMTYe2Rvp2cRQ7r2RlewIAExpgARtaABQcguYAA6mgAdsZsYoVYVxX-lWxdFjXKataTXxDpW8URhjkzWUW_UMWBzoauWMZ9jjUzi0Z8mABgLjdUNiOZ_PKY5TxbxhjpwD9VAPHjtdxVbOhoAC9ugApcaAAL8Y1penIeYGxR8l-f2pxYVcmSNSXNNUlWMWZRNWpjJotdWMtanMbhtY6QoRui9WVW9fzOhhMEIGMO4BqUKEqVYiqXCbqpmUidmewLqe0MbtkK-IWXvmaftBaa3NaZSqwVMlsFYiuDtbngTrUc7B9Wzd8Rzd9VzSDbVRYDpTJrjdxdCDsf9YDY7SqrNWlaDadSTYADwKFNl8NNOAdNSGXF-JlKAsRRwtKcotAl4tl8qN-Jw1K4o1gdKV_lrNyWOAztFl2N81XEWNrtON-lPNDlHaVNoNJpVwncOAJpd8WZ1CdaYJd8eurdwyf4euR-7g6iZ-yEVwQNqV8VZmBdZdllGmMM3u7AVwa1HYN-QaLuj8buT-3uT-X-v-3cCOqM2SSgIAg02wrgaQds1AgEugIEBgYEHq_AqA3ojISA7A_APwxY1QGQ5oP4ZI793c_A5B-Q1A_AVw_AqUOA0DqUPU6w_A5QbiEAjtEDn9IAFkZ0eEsA0IWA3ogDxwOh2ciQuYeQCapoko5o39fwpY8D1Y_AhyaD_ApSdsdDFgiDOhNe8IEA8AaDIG_AFDogH9_AAAemwjgAABw4DlRsM1j8DqRMMgAiNJg4AABM0D00sj7DggmolokQijYj5Ukj0j_AKakWOSP93gHw1AkAKQN9qAd9VSoEIADMIAtAPoWQEDX9potA5ogj5oswMw_A8gCgqSQAA",mdxType:"Playground"},(function(){return Object(b.b)((function(){var e=Object(g.useState)(0),n=Object(a.a)(e,2),t=n[0],A=n[1],r=Object(m.a)((function(){return fetch("https://randomuser.me/api?id=".concat(t)).then((function(e){return e.json()}))}),[t]),o=r.data,i=r.loading,l=r.cancel,d=r.run,j=Object(g.useMemo)((function(){return(((o||{}).results||[])[0]||{}).email}),[o]);return Object(b.b)(u.a.Fragment,null,Object(b.b)(s.a,{spinning:i,mdxType:"Spin"},Object(b.b)("div",null,"id: ",t)," ",Object(b.b)("div",null,"email: ",j)),Object(b.b)(c.a.Group,{style:{marginTop:16}},Object(b.b)(c.a,{onClick:d,mdxType:"Button"},"reload"),Object(b.b)(c.a,{onClick:l,mdxType:"Button"},"cancel"),Object(b.b)(c.a,{onClick:function(){return A((function(e){return e+1}))},mdxType:"Button"},"increase id")))}),{mdxType:"Demo"})})),Object(b.b)("h3",{id:"\u624b\u52a8\u89e6\u53d1\u6267\u884c"},"\u624b\u52a8\u89e6\u53d1\u6267\u884c"),Object(b.b)(d.c,{__position:1,__code:"() => {\n  function getEmail() {\n    return fetch(`https://randomuser.me/api`).then(res => res.json())\n  }\n\n  function Demo() {\n    const { data, loading, cancel, run } = useAsync(() => getEmail(), [], {\n      manual: true,\n    })\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n\n    return (\n      <>\n        <Spin spinning={loading}>email: {email}</Spin>\n        <Button onClick={run} style={{ marginTop: 16 }}>\n          fetch\n        </Button>\n      </>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:t,Playground:d.c,useState:g.useState,useMemo:g.useMemo,Button:c.a,Spin:s.a,Form:i.a,Input:o.a,message:r.a,useAsync:m.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNAlgAMSFIglgaVAZnCJYjzgCo0lQ9CGPcAh0GY_C5UU9BPTgSQiNgSVtIIRJfRVVA8PVQiYAAQTgRJUHIeT3W0gRyEkCirJs5zVGwFSzMDSV7MYxUwVs6gUWOU4sJIwz4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZxSgAWLL2AANiynL1jAYD-O9aBEhS_hnEOBEHUwGChH4STqEoOB8oRarq1qmhnAgLDLnYABGYrcvkILdFCiy5hi9gIyg8gbCgdAw1QjkYrEdboxkdgUSi7hgGwyKsXkLca2ALboF24IADJXvGRJ5koZonp2vbuEBuUwGQyUBlQdp2AAfg2Z6wwjA6rj-l7UAW6spBkKs3zMGEzMwMAwigKYEcO470ZW5dqwsYASe4I7gBXCwQds7tzFPM8omgEmGapmsLC6Ag-nMMBRy2iNikIW57keTIMEiCiBBwI9JFmCBig5HAJjoCMujsOmJ3gf84GoBG3z5iw0cZw1QdZ9gtWoyhuatiwloI9BolcJYoEoDsCiWOJbPnJY0XMNDYtc6zbIjWmjvZzmoARpYAG0AF0lh583zaiVBQniK5UQZXLM4ts3i9d6F47WiiqJoqNeczmP1uj93SPYAAfNvWPkDXddCIm7A79hU45JPUpT9vO-AbucGo1xoCL4uLCTlvXDT532Gx-uawFoWycXhN7v32seLQM7eNQEyZ0u73fZnO7Z-gK5gAfqB5CkE_UEP_fGHYm5mWoewUBYjbEuiHNC51YCXSgglJKlhKAzCuNNcqqE7rr0ziLAgW00E1ikL_TiX9M5SAITWUufM0aZx3gIcwjB7Y0XYJuFc8hyG1kkBTLGZgvwgDgE5FyRE3K2UkJ5XABAtAUGAvoBgpl7RQXtvMcMtlEgABlbAEHIkRew8QoAeAlNsNRxFSK0D0WKMAeizxgBFn5OiboAovmMmYcgcFpJWH5BkRglh6brH7GwLIBtOaX1nLFVKdi8r9FYD4zAcFkiBOCRYLxYTaA9A8FcaOOBUmuESvcEIqBEjD1JtBGU1I3Ht1yOGSAzp0BiAOp3HOCQ1o1KgDEvsoSfEonSVMaJQVYnNISTEI8Ah7xXCRGtIJnTCyoBRGiSUQoIzkCSetA6-t8mREKZYYpyF8ZoGyGIJYET4JXBzkQQIAgDoZxrBMWwoYH7-LWrsxIxk-bnLgDgW5Nz5zwXuWcgkOBWn2lircj5FhHmaxcf0nIfy3l3JXEC2Za1ZkfMttWFE8C1qN1OS7ckAhLAuP2BGIFvSMj3g_FCr5-LQXDIBfiC5XQ_EFDWkC_56x5CNPyhRFFCyPG8wceKTF2Lwi4pJSCwlFKgXUrntc80sUtRZBwKgUYJNzSUqeT8gg8LGm9yPCi1JOB0kpEyUiYeVwllEBWUdTu6yYBlNzPrNFirvmkV-XbaVsqRgIwpVy9JWKjw4rxYK9ARLeYQGaPyi5syTlW0oeYZ0YwjUmp1vASgUBWDdGtevH1fT7xrSIgQT1MAcX-HcvM0mNrM6BvWtCjwYat6Z3LRGLVEYdUD07sPf1R8LCPANvSDVgAr5UAGeRgBF5UAFnagA300ABZqgAAfUANOagBC6KHYAGH_ACFNoASHNAAr8YAPbVADLfoAHPNsH83jYmmAddW01naAAOWHLrBNSb2BhKgAyPMmxzCCgSAUUStABA3s4ISUcpJyREXMnsVAzhQjkARE4j61AzwCCEEcNAKJxTKRCHYJEC8j4tv3swzOShbWirQAUNDZD8OoRXBGkpGzymqrMAi3G9o0BvoJu1HUMxWZwDcRyiw2dc5QChlcLwCbxSoCVPQyQ7BAD0ZoAMhVAC4ShOwAaMqAHMjQAMhGeITUAmcr6Mg3u4-wA5RzBPtsAHbxgAj6MACFugAX1MAClpgBr60AEueTJAPAdA3ATTEZ0BXEsOy69lAuC6eE4ABCNAD5SquwAwDG2cg9BpzU1QtCnc6wTz6BvPsEAIyagBSWKC5RoKBl5haeEDMTVaSMmDOybk_WMWvP2JClMWV8D9nZbZUWpl6WvrdH7MsoiYpBZUNY7l7V-Wsk5JTu5mNREilmtKZsipxly7NeNa10cQsrhTepG1oWjAkRHVivm2yhb9b1MQ714J1Gxx6AEPR7oS2qEADV4gMk66cm-hUUg8eEOSAT6wMhhauJFgQHyV6acsB8gOCIoDVfgR8kO82Ckzfa6gYbpGLVjbEB80lT8VxIoQVlkHxH4ChCPMDmYFKWVEVxxR1GQUDvHAtYTKUNtwbmX4eQRgYp6REzWqtw9hpkrrS1Q2grfWBsQ5gAzrHRNtnrEwHcK4si6CYAUco0KsVU4L3gcxq4jHmOC6ZwQNbXdcociuGd1Al3b0C8Z33TXcVqzlyTq0wxZ1Rzj3DkREiWRBdQ8N9dk3wuGw2ruwUK4BMoBERQ6sQOQP0czCD2DppLWYD66D0j83mdUe46D7uztU0FuQ6FinvsYRCdh6D0oRlaHy6kqrjNsAbiQXq9N6a2HlqKkRnNfX4v5XCzIXaeZYxEZUot_GYd8cDuY8WtxWiGAvfQowCTQIaCuerWd-H_7oi_r1gUTMRYgg0d3M2qoO3j4fQwxTAANSxWmhS3DBA99QZdLFAuMAKUkdRVbHfNBL8H_YMfmaFL6vViw2LuAy-LdW8Q4y8YANEEhtEdgUk8tdUecDUupo9q9mcRsyMtki0Vx21AA7D0AF35QAWDlAAseTXUAGqIwANeVAAI2yMy3RXHLhDkcHb1hTaBf16CvxoApSzQjD1iOg2nYC1TgC9h9nu3zlH32kIxIzAFQFrWgP_ytk1gfWcw9jQKrU4CDRoIYPaSBmfwvyYIP0rSPlLQjCV3BieWoCAxA3gH_wT1bQMJChwGMPszMLkNIkI0w2wTYI4PWigh4J2Q9j4Nvge0NHiD_W7icJrAw3NhIxXgpRLmkLiEwTwAjDeyFAUMXj0JULoMBlig0Nf30B0P3j0KsPGRsNQE-xyKPnyKMKKKg2mQSOOUiPNlCMT1HHYNJi4M8OhEqIEB8IEP8ID26CCNqItnXhI2qNqO7nhR2RgDuAAJdlb1RxALAK0R0U3ySJrEnwyBnwonQCyMzBv1HzdVUK2KPxPwpXbUAFA7QAEzSZ0R0Vw9DSUDiSizkQUDi7V4FXVGEUdGi3CWjUleC2joN9kYAxhPtHxUd5hlIOROjfdujAiOQ0MsNh5GlJtZ85jNEIDtgliU1eZVjp9Z9NitDr9xhdiqD9i8TMwP9T90DhNAAgs0AB0FS464oNW4kkgge4wFR4pknAAnA9QjUI1w5ojw74pYao_4wE9ox8TksEiEoqKE3omEsYoefrBEoArHDVQfeY1E-tSOOyCQ7rXVXXeA6bY3IXKYZAuHcpNbNjGsdtQAIwNABYTTpIDSDQAEIsT1iiJcT99siLC-Z21AA0zMAEJrBTDtbHboOdQAFL1ABpr0AGdlBTWdQAeLTAA4FUnRnStlcBGDnimBDm1IbW5PpLLTZI9JoBZINih3GHzOYIv3VQPTrQbQnnlNlLeN5hIybzGzlPhNGXLlo3U3iDp2RPAMWJXA2y1K5wyS3yfyAOQloO2Lb0YILJVStlgAzNHD1yNLWVG3Iytj0MdLKKVncE41rMdPPzuK9LCNHBZzTPHEzOrIyVrObRGI3KDUyKZJiiBlSMLOPO9OEy7Sk2k2HRHVnRwKTKHVTTLLf1iijWcT6UQM1zZ0Xkbk7PfW7M1KzJHOzz5m3KfRUxSDUwQqgF220wyFQo3n6KE3YEACDNTdQAPujAA7f0ADC5dgDjeIWdQATCVAANvMABLogC6dICxQvQw8p896PYJjQwncnOeIIsj8kIc8jM5CbU-ta8weW87BPi2ctaRfO_deNCecP9Ytc2dtQC7BAWM89M0svpJ4ys2SmshS_rYIgYreeo4s3eAWL_IPJOdC5TF9I7G9JYbchiqAYOZCNeasKYsZUKLoO7XshYyAlcZC3Uw1fnKC1clAipZYiSwAJjTAAja0ACg5P0wAB1NAA7YzXTHN3yfLJNqLyKEusIwo8rfRvXEqUPWi3IqoKN8rqrbWE3IsXT7HcpnFnROMADAXbKoze0o-VHV4xQ-y3dEs-Cm9OnGK__O8redtQAF7dABS40AAX4xTLeEjS81JOS3VG86y5ylcJOEObypqp5Kq1TTy-IQKiwYK8uAHecCK9Ux_TlYklS0qik_EIQMYdwX4oUd4jfT4_k75QU9o4U9gIE9oR62ACU9gH3KUtS4Q1shU0ZVfcxLYDfaK4cmA3rIrC0vmcq5jDk7qrC66qAOq6axC9yMazDaEHo-qiMRq4mlq98y04TVawAHgVNrF4dqcA9rG06zgiEUKFZsqEtsCbzZHyPqjj15RrhajreZXLzqRLOMzribLqyaar4h_KuJOBya6dbqiLRkSNvd-DITrc_wEaUgg8hSzoDE_xqig8V4rhLbnlvCqD3BAcI9kIrgfLdzewBK3Ln0rrtbcKYZKz2Argwr-C48QVkct5Uds9Kzs9OSC8F5v80ZOFBpthXA0gjZqBAJdAQIDAwJTl-BUBvRGQkB2B-AfhixqgMhzQfwyRq6F5-Ap98hqB-Arh-BUocB-7Uoep1h-ByhyB-gmqe7a6QALIzo8JYBoQsBvRW7ycyRKBEhcw8haVTRJRzR66_hSxh7qx-A_Ep7-AhEjYj6LBR6Jipd4QIB4Ap6bV-Ad7RAa7-AAA9JBHAAADhwHKivprH4HUjPpAA_qTBwAACZ-7ppAHr7BBNRLRIhQGv7ypf7_7-BGVKNOEG7vAPhqBIAUgC7UAi7xFQIQAGYQBaAfQsge667TRaBzRX7zRZgZh-B5AFAmEgA",mdxType:"Playground"},(function(){return Object(b.b)((function(){var e=Object(m.a)((function(){return fetch("https://randomuser.me/api").then((function(e){return e.json()}))}),[],{manual:!0}),n=e.data,t=e.loading,A=(e.cancel,e.run),a=Object(g.useMemo)((function(){return(((n||{}).results||[])[0]||{}).email}),[n]);return Object(b.b)(u.a.Fragment,null,Object(b.b)(s.a,{spinning:t,mdxType:"Spin"},"email: ",a),Object(b.b)(c.a,{onClick:A,style:{marginTop:16},mdxType:"Button"},"fetch"))}),{mdxType:"Demo"})})),Object(b.b)("h3",{id:"\u8f6e\u8be2"},"\u8f6e\u8be2"),Object(b.b)(d.c,{__position:2,__code:"() => {\n  function getEmail() {\n    return fetch(`https://randomuser.me/api`).then(res => res.json())\n  }\n\n  function Demo() {\n    const { data, loading, timer, run } = useAsync(() => getEmail(), [], {\n      manual: true,\n      pollingInterval: 3000,\n    })\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n\n    return (\n      <>\n        <Spin spinning={loading}>email: {email}</Spin>\n        <Button.Group style={{ marginTop: 16 }}>\n          <Button onClick={run}>start polling</Button>\n          <Button onClick={timer.pause}>pause</Button>\n          <Button onClick={timer.stop}>stop</Button>\n          <Button onClick={timer.resume}>resume</Button>\n        </Button.Group>\n      </>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:t,Playground:d.c,useState:g.useState,useMemo:g.useMemo,Button:c.a,Spin:s.a,Form:i.a,Input:o.a,message:r.a,useAsync:m.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNAlgAMSFIglgaVAZnCJYjzgCo0lQ9CGPcAh0GY_C5UU9BPTgSQiNgSVtIIRJfRVVA8PVQiYAAQTgRJUHIeT3W0gRyEkCirJs5zVGwFSzMDSV7MYxUwVs6gUWOU4sJIwz4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZxSgAWLL2AANiynL1jAYD-O9aBEhS_hnEOBEHUwGChH4STqEoOB8oRarq1qmhnAgLDLnYABGYrcvkILdFCiy5hi9gIyg8gbCgdAw1QjkYrEdboxkdgUSi7hgGwyKsXkLca2ALboF24IADJXvGRJ5koZonp2vbuEBuUwGQyUBlQdp2AAfg2Z6wwjA6rj-l7UAW6spBkKs3zMGEzMwMAwigKYEcO470ZW5dqwsYASe4I7gBXCwQds7tzFPM8omgEmGapmsLC6Ag-nMMBRy2iNikIW57keTIMEiCiBBwI9JFmCBig5HAJjoCMujsOmJ3gf84GoBG3z5iw0cZw1QdZ9gtWoyhuatiwloI9BolcJYoEoDsCiWGIjwEJY0XMNDYtc6zbIjWmjvZzmoARpYAG0AF0lh583zaiVBQniK5UQZXLM75wUEgKUTaAEVg84y1K66L4v5DN4vXeheO1ooqiaKjXnM5j9bo_d0j2AAHxH1im9DeBQiJuwx_YVOOST1KU9H8fgEn6jXGgBvi4XofXDT532Gx3uawFoWyb3hN7uv2seLQM7eNQEyZ0u73fZnO6t-gK5gB_qA8gpAP1QLfa-jB2I3GoDgAA4khGYZ0DKwEulBBKSVLCUBmFcaa5VUJ3WPpnCBHFmTUHsFAWI2xLohzuiiVw9pS7kJnFISBnEwF3yIVA8wpDyE7EugHDIOB8oUTukIoizDiGgIIebDhnE9ioDIRQvh_IBEokwTQiIMxxGcLYeAlhJD5E8MocAfhitdahCPHdMxR4tGsKkduPRqBYHwJ0XzKQLiT5WzRpnC-AhzCMHtjRdgm4VzyC8bWSQFMsZmC_CAOATkXJETcrZSQnlcAEC0BQYC-gGCmXtFBe28xwy2USAAGVsAQciRF7DxCgB4CU2xKnEVIrQRpYowCNLPGAEWfk6JugCi-YyZhyBwWklYZRAhGCWHpusfsbAsgG05q_WcsVUqDLyv0autBjjzngmtVZQULCzM2d0cgHgrjRxwJcuhKR7ghFQIkRepNoIympJM0euRwyQGdOgMQB1x45wSGtAFUA1mHI2fM2h9oVmgr7OCrZJj7xXCRHsmFrs0SSiFBGU55yDr62eZEV5lh3nIXxmgbIYgliYDgk1dgOciCBAEAdDONYJi2Cnosgoa0qXwWMnzVlcAcDcuSLFIVvKWUEhwJCqYIqdmJDFRYflmtxn3i5bK-V-I2WnLWqcsVltqyqIQbFfuzKXbkgEJYZR-wIyKoRegD8K4bXKpyNCh1EqugcpnGtRVor1jyBhaI7oRrcXTN5sM8U5rLXhGtRK219reaKvddvJZ7BzSxS1FkHAqBRgk3NBqgVUrdUwqsYG9alycDXNuUiReVx8VEEJUdceJKYBfNzPrE1ebJWkShXbDNWaRgI3VWGuhFqjxWsdYHe8ca-YQGaNGzVHgmVWx8eYZ0Yxa31p1vASgUBWCBpDXvcdGQVWxSIgQEdMArX-HcutYNcUz7TtnYq05i773myfR4CMZaIwVrXgvFOHIp13yCZIA29IjzsEAFfKgAzyMAIvKgAs7UAG-mgALNUAAD6gBpzUAIXRCHAAw_4AQptACQ5oAFfjAB7aoAZb9AA55nY0D27d09yAzWdoAA5YcusaPdGrlABkeZNjmAYeXPQVdey2DOqOUk5IiLmTkc4UI5AESjI-tQM8AghBHDQCicUykQh2CRLva-gG95hMzkoDtia0AFH0zWJu6rDMG0Fr4j5pLvmFrMHq3G9o0CVwJu1HUMxWZwEmfu9g2dc5QChlcLw27xSoCVMB9ggB6M0AGQqgBcJTQ4ANGVADmRoAGQiZnbsYSkCuGQONhdpeYhlMXHjsEAHbxgAj6MACFugAX1MAClpgBr60AEueTJUDSdk_AOAxWIzoCuJYW9rBKBcHKyBwACEaAHylYjgBgGI60plTfWpqLaFMN0b6BxvsEAIyagBSWLmy5oKBl5i0uEIa0tVzEqVvuY8_WI2xtDJClMLNmCrgvfO8av1R2vrdH7ASoiYo7OoAC2tT9l2blIpu_-p5LyxFEsbZ8slPzjKtz-3WgHo4hZXDR9SQHQtGBIiOrFK9tkb2k2BVpu5cqgpubHAJrz3Q8e-IAGrxAZCD5lH9CopHC8Ick0X1gZCW1cVbAgxUH2K5YMVcRbLzje2dsVIdsew5gEz4H8OHPNqR2IMVJi_4rgNfLzB6ri1G5mOqgNZvnOoxp1gVS-NCZShtuDcySTyCMDFPSIma1Cd0cNMlC75aruQ4edDvFKuPfTyJhS9YmA7hXAKXQTAxSymhViqnBumC_NXB835yPXuCBE4nrlDkVw1es84zAfPM9C93pdk9hetCWkiYIKvcORESJZEj0Div7PPc17EA2dtXOChXAJlAIiumZcIigGb3TSvYX_dV5j3xum9d1_Nob07mDdP82nkeZXS-1e777GEIic-QkNys-sVuJiO4Y7AJM8Z1fo_EsR98hsTaW12ulw3qgyFpVzI2kIxUpANW4zNACKJgCC4YAwCG8YBd0BBoIz9W0gDm0Ixx8iI411gKJOlukCBo5b121_8aAPg-gwwpgABqWKaadVCAsg5TF0WKGAk3FfcwY1K2EgggBgig9gagmaazXVSlGAO4bA6sVuEOe_GAapBIOpHYC5cHa7UPUvLqJfF_KYBHRzclUmdtCrQAOw9ABd-UAFg5QALHkSNABqiMADXlQACNtasKMVwJDkJHAADtU2hSDehGCaB1VT0Iw9YjoNp2Ay04AvYfZud840Rugm4LNl1_cwcg8blm4-ZNYeN-sPYdDj4Z11oQ5nDMxAZYouCeD9AX075MiIws9wYBVqAus5M4BiigNyiQocAqiZMajUjSILMjMpEfC_D1ooIgjKUPYQjP4edDR4gJMoj1U-YbM-YYiD5Jj9orYPhogxYhchR0jX1Sjsi3DpUgYCiPCKC6i95SiGjUBKjUBRdDjr4TizjRcIxVjGV5ipiujRxfDSYAj-joRlMhQhiwjRiJ9IiANHjUJj4Yj7j5jr9qxjM49ajUUG8DUpCZDal6lCD1i-YECMhkCKJ0BCjcjxgIjB1ticSqCaD1UKtABQO0ABM0rDJDFcUokxIky4hVcZIkztTBAdEJA3F4no94y5YIz4lTN7GAMYW49oA1eYZSDkH40fP48YwE31ZOf9WE04qYANBEmpOQ7YFEttFcdEpAlA7E_YpgvEhkAkgAokvgkklcCrQAILNAAdBWpNpMfWZMNJoEZPGGdPIOPADXZN5hs26LeL6N5KWHuMFOFK-IEEfADQlKlKKhlIBMA2M0XiVNCmLTVNkORJJzsjiIrRUPXTEX72900K1w_1RJrAq0ACMDQAWE0HTeZSiABCXUzEoiA0z010jfPmCrQANMzABCayy1A3MW6Bw0ABS9QAaa9ABnZSy2w0AHi0wAOBV0MsMrZXARht4pgQ5syrsLMbM6SPTPCCA3SYj6SXTuDi04jv0rtf1F5NyVwYiv8kchC_0xD69lTOABMOM3c0ykT5CVxMzA8czSy-ZHD5FtjXCzSjz5jYBVzRwy8o8NDNdv95j6zrilZ3AQtf06z6Cjy3S99AClyVyJxkJTyf155LzwSrZSi9jWydjYotiACsLYsIMUtUtEMkNsMjD5yENj5DzKKgUhSxlA51CGwpF-4PNCt4g3d1yEiT8-YkK-MZwCtBMoBKc6UGUpKT4gSKtAAgzXI0AD7owAO39AAwuSCxQviGw0AEwlQADbzAAS6LYsww4o2NnQwu4vej2F8wqOQpzniDoosAq1wvHDXK_SIvHhIqkUct3LWkwJgCBLQnnAk3bUzgq3YqkQFh92XPHC4t3KnjAxgEIvPOIv_Q6Ms08SXTYNs2s10yThkty340rg4yWCQuC3iGDmQiPmrEfMLGfK6C5w_I1L9wsAktqJrQjwLNgtvJLO1LPgq0ACY0wAI2tAAoOW7MAAdTQAO2MSNODCSjyLSBCyLZ1Kqy45LXzPL2zzZELXLGiGqoAvLYstL8M-wqqZxsMyTAAwF3mtqxrLvgNR9IMxBJKpEoUvErLRzNIompA0ABe3QAUuNAAF-OyzPhiP8suTPJuQvPyrKpXCThDjqtOtOMETuvywOqgBaosDatbmn3nG6uRI4NDXWu4v4NoKtJAwmCEDGHcH5KFE5IIO5MDMlWDPDNDPYBFJJtgGjPYBH1jIiv2gTIVLatwK6S2AIJXH6pD1u0CwfXWl2ry3ko4zot-rfMjnIE-vNmiv-M4FnTrPquMouqOo7NBrBsAB4FaGveOGnABGueIK5Goq_0GGkqimveCisKmmoEj6gqr7X08qs2jyqADGvzbGva3Gmqxq_CriF8uOqAN3AmtSg5WzS-YfUI6UpvP8EWlIXTEMxBDNe43TA-K4POwVQYhw9wGfefZCK4MO1C5ytW6q0SxSmGVMq4Tq0ItfcZfXM-A1E_YtE_ANXTJQX1YyNGGJQabYVwNII2agQCXQECAwMCZlfgVAb0RkJAdgfgH4YsaoDIc0H8MkXehufgRA_IagfgK4fgVKHAR-1KHqdYfgcocgfoTGu-_ekACyM6PCWAaELAb0c-7ZMkSgRIXMPITlU0SUc0Q-v4UsV-6sfgRZH-_gVJI2FBiwd-kQpPeECAeAH-9tfgOB0QPe_gAAPRwRwAAA4cByocGax-B1IMGQAqGkwcAAAmR-6aZh3BwQTUS0SIdhmh8qehxh_gX1FzGJI-7wD4agSAFIJe1AFerJUCEABmEAWgH0LIO-g-00Wgc0ch80WYGYfgeQBQUJIAA",mdxType:"Playground"},(function(){return Object(b.b)((function(){var e=Object(m.a)((function(){return fetch("https://randomuser.me/api").then((function(e){return e.json()}))}),[],{manual:!0,pollingInterval:3e3}),n=e.data,t=e.loading,A=e.timer,a=e.run,r=Object(g.useMemo)((function(){return(((n||{}).results||[])[0]||{}).email}),[n]);return Object(b.b)(u.a.Fragment,null,Object(b.b)(s.a,{spinning:t,mdxType:"Spin"},"email: ",r),Object(b.b)(c.a.Group,{style:{marginTop:16}},Object(b.b)(c.a,{onClick:a,mdxType:"Button"},"start polling"),Object(b.b)(c.a,{onClick:A.pause,mdxType:"Button"},"pause"),Object(b.b)(c.a,{onClick:A.stop,mdxType:"Button"},"stop"),Object(b.b)(c.a,{onClick:A.resume,mdxType:"Button"},"resume")))}),{mdxType:"Demo"})})),Object(b.b)("h3",{id:"\u8868\u5355\u63d0\u4ea4"},"\u8868\u5355\u63d0\u4ea4"),Object(b.b)(d.c,{__position:3,__code:"() => {\n  function saveToServer(data) {\n    return new Promise(resolve => {\n      setTimeout(() => {\n        resolve(`${data} saved`)\n      }, 2000)\n    })\n  }\n\n  const Demo = Form.create()(props => {\n    const { data, loading, cancel, run } = useAsync(\n      data => saveToServer(data),\n      [],\n      {\n        manual: true,\n        onSuccess: data => message.success(data),\n        onError: error => console.log(error) || message.error(error),\n      },\n    )\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n    const { getFieldDecorator, getFieldValue } = props.form\n\n    const submit = () => {\n      const fromData = getFieldValue('name')\n      run(fromData)\n    }\n\n    return (\n      <>\n        {getFieldDecorator('name')(\n          <Input\n            style={{ width: 300, marginRight: 16 }}\n            placeholder=\"please input your name\"\n          />,\n        )}\n        <Button\n          type=\"primary\"\n          loading={loading}\n          onClick={submit}\n          style={{ marginTop: 16 }}\n        >\n          save\n        </Button>\n      </>\n    )\n  })\n  return <Demo />\n}",__scope:{props:this?this.props:t,Playground:d.c,useState:g.useState,useMemo:g.useMemo,Button:c.a,Spin:s.a,Form:i.a,Input:o.a,message:r.a,useAsync:m.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNAlgAMSFIglgaVAZnCJYjzgCo0lQ9CGPcAh0GY_C5UU9BPTgSQiNgSVtIIRJfRVVA8PVQiYAAQTgRJUHIeT3W0gRyEkCirJs5zVGwFSzMDSV7MYxUwVs6gUWOU4sJIwz4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZxSgAWLL2AANiynL1jAYD-O9aBEhS_hnEOBEHUwGChH4STqEoOB8oRarq1qmhnAgLDLnYABGYrcvkILdFCiy5hi9gIyg8gbCgdAw1QjkYrEdboxkdgUSi7hgGwyKsXkLca2ALboF24IADJXvGRJ5koZonp2vbuEBuUwGQyUBlQdp2AAfg2Z6wwjA6rj-l7UAW6spBkKs3zMGEzMwMAwigKYEcO470ZW5dqwsYASe4I7gBXCwQds7tzAqVgYEsShnAyDmBAjdBolcA6GapmsLC6Ag-nMZ0xmgmVqQjLo4EoKAOdJ0Xxa1s7R0sfkYH2CNafpxntYneBVY5iNigAEiuoW0PZ7JijfM2ayUdgACZUp912zfkP3xbR02lqmLVqOHWLBIEIgPlNWgEYjftKEHOm4rF8XQ9Y44haWKBKA7AoljiWz5yWNFzDQ2LXOs2yowzrXBdI0mna5nmBD5gWhY5XK3YsABtABdXu-81vuLCiVBQniK5UQZEfx-oZxQnIBFpKuJvXFJqSZL_elV_gOAu9InvTe16gzwEIQy2hK-hVJpbVb_fOUgjDJr4OgAfT_2B31w0hwO_IUb874CFPg3IOC8taBy1lnairhoBrQolRGi9dx7G3WkbTe7Bv6sQDqGeAoQiZ2FwUPDk_dUqDxwT_YA-D4HQCgdrfum9h5n3YDAzOIUCKnn4hAec6Bw5UEyBEAQSweF8J2gANXiAyOSsVk53BwLVGOQU3ZZ3pB4Ig45YoYLHmorh8ktRCzWuI_h0ioAMkfKgb0MBXxsIlshCM9EjEnzYcHCB5spYCHMGgvujB7rj2AKYnagihTRGAe0axR5Xy-PHgmUS4lRAeLdudWAl0oI4nQBMK4SYfaSVcIlNAIoIApEIFcaa5VUJoziVrMkEoYDDB2hkPgIAyTiiIpwMS4RIRHCiYyEA9itabkYWbDk1S4mMHYjcaggzxYGXmC0_s_ICmJH4LMms-dC4zkupswqKRxk1OoPYKAsRtiXQ0VoggBy4mpJgOk3-BSkpcxmOUyp8hrluwCTc1wHN1lSCmZxL52spBAprBw_aptJbS1rOHGi7BNwrnedGSQFMsZmC_CAOATkXJETcrZSQnlcAEC0BQYC-gGCmXtFBcO8xwy2USAAGVsAQciRF7DxCgB4CU2xWXEVIrQXlYowC8rPGAMAWwph0TdAFF8xkzDkDgtJKw-sBCMEsCbPK_RWBZHNlENABQ1qpTlZqtgOrMBwWSLFI1qi-xap1eQDwVwjY4BdY8-4IRUCJDIaTeWkRqRqpwbkcMkBnToDEF_dgU8EhrSjVAY1FglnatoGdUi9orXxttaa5NMQjwCHvFcJEhqM2hzRJKYBDqnUHTTr6rRREA0_2QvjNA2QxBLHNfBK4U8iCBDAenOZBICF6pMjONa7bEjGX7bYHAY7R3znghOmsEwp0ogKVMWKY6F0WCXXAHAOaMj3lnRazd-Ip0OrWg6hd7iLAohTmtXRK4FXigEHrI8htt27pVfeD8K5317rzTkdNP6B1dCHQa2K76N3rHkBm_KFE71Vo1Znckz79ZvoHX-r9x730gYQcO2c5pYouL_KgUYJNzQnp3Su4Ul6M3K1CEeO9LqcBuoLZ6shVwa3-vVYGxtMAQ25jTnoijOAqNrvYERnAJGRgI2PY-gpL6DbhAjL-z96Bv1iwgM0ZTA6HUi0haOaFssup-rreqpWFs1bdEE2wlTuaD2xSIgQBTht_DuXWghvtfdNPrXfbpzz49fMeAjExiMbrqHsDIepmpjxzb0gY4AK-VABnkYAReVABZ2oAN9NAAWaoAAH1ADTmoAQuj0uABh_wAhTaAEhzQAK_GAD21QAy36ABzzdZytLYwFiXE9oAA5YcTXLPsG1RY7oIxNjmEFAkAoolaAd17LYHWLK-zkg6XBpeK8152A-hfUBnSUTimUiEOwSIRnayi33D57sljYfoXho7QcruoRXFC7xQam2hpo2YdxuN7RoAmwTdqOoZiszgGqxDDyp7xChlcLwT93BKnhZIdggB6M0AGQqgBcJVy4ANGVADmRoAGQj1gjZOTOcbvNQedvoz26HMXAB28YAI-jAAhboAF9TAApaYAa-tABLnkyVAy8D7STB-tdAVxLAedYJQLgZPYeAAQjQA-UpVcAMAxbPL7X252_K4cuhQC6F-gEX7BACMmoAUljpevaCvM7oJHb06KYyxj1XrB6q-F_KgxxuXmRuEDMeDGtoMG6-t0ZOtaYBii8agQHjHXWJXdUib11aFamZ48G5tYbjJZy99SX30srgJ6Ikn7xjAkRHViq52y7nSaxt2xb4172xx6AEN97o6fUDmIZAHseuyCjg-EOSVAC6gECG58rgQC7N7c8sAukuCIoCdqdwuiuKeI8-4MxnywUenstoXX-q4Qmb0O_t8eujR5R8p2PbBoiO-ZgvdRkFUvxw-OEylKDVm5k8XkEYGKekRM1pZ98WAZK60zfB9Y5bjznG62P5EIECtrrCYB3BXA0p0CYD0pMqhSxRDwjwpz_ZXC_b_YP6EJEzZ54K5QchXDV614wDoFP7AGeZZz9wroCozZULVxEQkRZDoF-4EFEFAFiANhCaN5FSGjxBERQJD7ziH5QIT62ombT5-5QLL7-Y1hr4CH6ZxZTSp6iHSwjL75TT25QJKBQZHZZx_pIJp58ZqoqrMGYHz58Yx4Ni8b8ZqaD4GJUDIRiYURCoRipRaEGL6r2F6FgDKZogwAuGoChQwB8zQRhBEQAbmSOEExQBETqbrAUSiriqShGweZCa2E0AfB9BhhTAADUsU00x6bhaRV8Lo4G3hm-M-PiSRIcbQqRvQhRmY2RM0x6bu1YHsYBcA0R1YWcFcuhMA7KCQXKOwzqQeKQIebGVuHGU-RhUwDa0eoa2eQOFgMWgAdh6AC78oALBygAWPLVaADVEYAGvKgAEbbU71YPoGIVyOB2HnpVEEAFEZHHqOYRh2BpwbTsBMZwB5wFx7KzzeH7Q3b3bmDv7BZDFtGmy7pDbHxbzWYeLeZKzIRnGZiAyxQpFXE1EZF6bJKcBaZIHgw7pLac5tGSFuyYkhQ4A4krZgk3bawnbix3EPFHRPEvFtq5zsAcEpBXAREdIBzknuxsK_E5ykTHoWABzAlxAEBbQgLXwaxsJQmnGXExRAyInXH6ConjxQmEl-HEmoDd5KlxKqnYkamgJikq78layUlSGjj3Gkx0kuqvG3zXxvFbIslcGRHdAclGkCncllE2lChGkByXptowB3DtEWDqIRDO40E9Ecr9HbCJESliwBEZBBEUToAKlwnjAlHHF2HJlZE5HHoxaACgdoACZphWmWK4UJf6mZWpcyKqmZImIZMmiKK41JFpUE9JnpN8Rm3ej4a-8wykPcTJ7xTejp7JHIR2HsZCxaBiKh3RvRnK3K0ZEJ4scZAgCZIRmZa0c8MAsmlxq59RuRK4MWgAQWaAA6CkWSWVpmWciYqfieMFWReakSoXWWLNco2Y8c2VaUsB3p2jAGMB2e0CoT2XaR8YOc6cOb6RFlbuOX4VMFvlZuZNOZGaFrXHZACcxsHrgcZt7pMSYZYXMZITFoAEYGgAsJonkaZaYACEi5y52Q5ZV5MWgAaZmACE1ljrFvRt0MVoACl6gA016ADOyljkVoAPFpgAcCp5aFamyuAjAIJQWOJf7DE3bXKlk3npGXlCYSwennmKWpHQXIWhbB7haRaNF3YekWEx6gVjk2pZyfaE5QB35TkRmzkri55IXSV4nzmwInEwkykIlbm3kEBGmwBQWjh4EYFTGPamHPamxQmkU6k4CTzTxQDhakX5HeUVlaySwv7iXjgVxaVhakJW6cknZQnyneWymxTSl2HJXiwxbxYo6o4ZaZZFarHCXpY2YKW1FiZGYKaqqAGYGtbawYIWWTZWWIXIVurgKLx_ZYk4C45jbl59ZF5do9oHbsKukw7sCABBmnVoAH3RgAdv6ABhcsDrFUVoAJhKgAG3mAAl0Q1QVk1ZCVpolepVMO9HsONUSTFfEOVUMrDmJRJROFJS6tpcMbpblctRYLda1WtGyRuW4tCE6VeRVbDo1YMqlTnulVMGpa1QQnIVlTpTlSBW4qbCdjyZLI0VAv3FFVNfjjNfEEsFFS9VAOXMhKwtWIGYWJBebLsjZX0XZWLMNaheMSIZhdMQvmGjGdrDFoAExpgARtaABQcvRYAA6mgAdsbVaVEZlFU7lGkqlPVqlk0pAE4DVvXA1kXU3uCxV601gxbrVlZ9iqx44pBFa5mABgLtLdTsRePGvg-W7CaTyf1X1nftzTJd6abDFoAC9ugApcaAAL8djg3ATT9TgH9SQj_HpYisTRXFTRrTulrTrX1gzRYEzVnHwXFWGXBbOfemLIVXdewKrXubDhMEIGMO4K2Q2WaTSetK-SJu-aAp-d-fqe0HndkK-ABQOeDd8SZeBTarEWKhKq1r7SMb_sLVrOrf9pNVbdNRNn1ibV7fED7XlVDR0hFYbSDlACbUHcHYADwKEdbsmVIW2V8dgNeNNq4sPJxd-iytZdFdHirteVRNK4JNqd0VRtlNj1C96dFNtN31XEnSK9G9iFWdS1NqPJ7B_ZnBFBz8CDKQUCH5KaWQgCoCUCm8VwSD06ucD67gw-ghyEVwe9sV7AD1pNS95NEDcVMM0F7AVwXQuy4hKqK-psa-Iy0FyhwRMA6hI8TRaMGKg02w_8f4mg1AgEugIEBgYEY8_AfS_AVw_APwxY1QGQ5oP4bSPU6w_AfM-QMySA7A_AqUOA5jqUej1Y_A5Q5A_QGtKjpjIAFkZ0eEsA0IWA3obS5-ZIlAiQuYeQBqpoko5o6jfwpY1jFg_AQ6Tj_AhK_4cAUTzjYBUB8IfCSTJjQm_AITogJj_AAAehUjgAABw4DlTJPRMgDqRxMgAFNJg4Dew4DTSVPOO5OWiRC1NFPlSlPlNrLNGvYYoaPeAfDUCQApCJPSPaCyPkoKP8C0A-hZAqNqPxwwDmjtOzAzD8DyAKDvJAA",mdxType:"Playground"},(function(){var e=i.a.create()((function(e){var n=Object(m.a)((function(e){return function(e){return new Promise((function(n){setTimeout((function(){n("".concat(e," saved"))}),2e3)}))}(e)}),[],{manual:!0,onSuccess:function(e){return r.a.success(e)},onError:function(e){return console.log(e)||r.a.error(e)}}),t=n.data,A=n.loading,a=(n.cancel,n.run),i=(Object(g.useMemo)((function(){return(((t||{}).results||[])[0]||{}).email}),[t]),e.form),s=i.getFieldDecorator,l=i.getFieldValue;return Object(b.b)(u.a.Fragment,null,s("name")(Object(b.b)(o.a,{style:{width:300,marginRight:16},placeholder:"please input your name",mdxType:"Input"})),Object(b.b)(c.a,{type:"primary",loading:A,onClick:function(){var e=l("name");a(e)},style:{marginTop:16},mdxType:"Button"},"save"))}));return Object(b.b)(e,{mdxType:"Demo"})})),Object(b.b)("h2",{id:"api"},"API"),Object(b.b)("pre",null,Object(b.b)("code",Object.assign({parentName:"pre"},{}),"const {\n  loading: boolean;\n  error?: Error;\n  data?: T;\n  cancel: () => void;\n  run: () => void;\n  timer: {\n    stop: () => void;\n    resume: () => void;\n    pause: () => void;\n  };\n} = useAsync(params);\n\nparams:(\n  service: (...args: Args | any) => Promise<Result>,\n  deps: DependencyList = [],\n  options: {\n    onSuccess?: (d: T) => void // \u6267\u884c\u6210\u529f\u7684\u56de\u8c03\n    onError?: (e: Error) => void // \u6267\u884c\u5931\u8d25\u65f6\u7684\u56de\u6389\n    manual?: boolean; // \u662f\u5426\u521d\u59cb\u5316\u6267\u884c\n    pollingInterval?: number; // \u8f6e\u8be2\u7684\u95f4\u9694\u6beb\u79d2\n  }\n)\n")),Object(b.b)("h3",{id:"\u7ed3\u679c"},"\u7ed3\u679c"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null})))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"loading"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u662f\u5426\u6b63\u5728\u52a0\u8f7d"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"boolean"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"error"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8bf7\u6c42\u9519\u8bef\u6570\u636e"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"Errow"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"data"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8bf7\u6c42\u6210\u529f\u6570\u636e"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"(value: any) => void"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"cancel"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u53d6\u6d88"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"run"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u6267\u884c"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => Promise\\<T",">"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"timer.stop"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u53d6\u6d88"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"timer.resume"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u6682\u505c"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"timer.pause"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u7ee7\u7eed"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))))),Object(b.b)("h3",{id:"\u53c2\u6570"},"\u53c2\u6570"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u9ed8\u8ba4\u503c"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null})))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"service"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u5f02\u6b65\u8bf7\u6c42\u51fd\u6570"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"(...args: Args ","|"," any)=> Promise"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"deps"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u4f9d\u8d56\u6570\u7ec4"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"any[]"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"[]"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"options"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u53ef\u9009\u914d\u7f6e\u9879\uff0c\u89c1 Options"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}))))),Object(b.b)("h3",{id:"options"},"Options"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(b.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u9ed8\u8ba4\u503c"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"manual"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u662f\u5426\u9700\u8981\u624b\u52a8\u89e6\u53d1"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"boolean"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"false")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"pollingInterval"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u95f4\u9694\u6beb\u79d2\uff0c\u53ea\u6709\u8bbe\u7f6e\u4e86 pollingInterval\uff0c\u624d\u4f1a\u5f00\u542f\u8f6e\u8be2"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"number"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"onSuccess"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u6267\u884c\u6210\u529f\u65f6\u7684\u56de\u6389"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"(d: T) => void"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"onError"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u6267\u884c\u5931\u8d25\u65f6\u7684\u56de\u6389"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"(e: Error) => void"),Object(b.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")))))}O&&O===Object(O)&&Object.isExtensible(O)&&Object.defineProperty(O,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src/useAsync/index.mdx"}}),O.isMDXComponent=!0},"./src/useAsync/index.ts":function(e,n,t){"use strict";t.d(n,"a",(function(){return j}));var A=t("./node_modules/_@babel_runtime@7.6.2@@babel/runtime/helpers/esm/defineProperty.js"),a=t("./node_modules/_@babel_runtime@7.6.2@@babel/runtime/helpers/esm/slicedToArray.js"),r=t("./node_modules/_@babel_runtime@7.6.2@@babel/runtime/regenerator/index.js"),o=t.n(r),i=t("./node_modules/_@babel_runtime@7.6.2@@babel/runtime/helpers/esm/toConsumableArray.js"),s=t("./node_modules/_@babel_runtime@7.6.2@@babel/runtime/helpers/esm/asyncToGenerator.js"),c=t("./node_modules/_@babel_runtime@7.6.2@@babel/runtime/helpers/esm/classCallCheck.js"),l=t("react");function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);n&&(A=A.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,A)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(t,!0).forEach((function(n){Object(A.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var b=function e(n,t){var A=this;Object(c.a)(this,e),this.remaining=0,this.delay=0,this.cb=null,this.start=0,this.timerId=0,this.stop=function(){clearTimeout(A.timerId),A.timerId=0,A.remaining=A.delay},this.pause=function(){clearTimeout(A.timerId),A.remaining-=Date.now()-A.start},this.resume=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];if(A.start=Date.now(),clearTimeout(A.timerId),A.cb)return new Promise((function(e){A.timerId=setTimeout(Object(s.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:A.cb&&(A.cb.apply(A,Object(i.a)(n||[])),e("No resolve value when pollingInterval is set, please use onSuccess & onError instead"));case 1:case"end":return t.stop()}}),t)}))),A.remaining)}))},this.remaining=t,this.delay=t,this.start=t,this.timerId=t,this.cb=n};"undefined"!==typeof Options&&Options&&Options===Object(Options)&&Object.isExtensible(Options)&&Object.defineProperty(Options,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Options",filename:"src/useAsync/index.ts"}});var d=function(){},m=function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function j(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},A=Object(l.useState)({loading:!1,cancel:d,run:m,timer:{stop:d,resume:m,pause:d}}),r=Object(a.a)(A,2),c=r[0],g=r[1],j=Object(l.useRef)(void 0),p=Object(l.useRef)(0),O=Object(l.useRef)(!0),B=Object(l.useRef)(!1);Object(l.useEffect)((function(){return p.current+=1,O.current=!0,function(){p.current+=1}}),n);var E=Object(l.useCallback)((function(){var n=p.current;return g((function(e){return u({},e,{loading:!0})})),e.apply(void 0,arguments).then((function(e){return n===p.current&&(t.onSuccess&&t.onSuccess(e),g((function(n){return u({},n,{data:e,loading:!1})}))),e})).catch((function(e){return n===p.current&&(t.onError&&t.onError(e),g((function(n){return u({},n,{error:e,loading:!1})}))),e}))}),n),C=Object(l.useCallback)((function(){B.current=!0,p.current+=1,j.current&&j.current.stop(),g((function(e){return u({},e,{error:new Error("stopped"),loading:!1})}))}),[]),I=Object(l.useCallback)((function(){B.current=!0,p.current+=1,j.current&&j.current.pause(),g((function(e){return u({},e,{error:new Error("paused"),loading:!1})}))}),[]),Y=Object(l.useCallback)(Object(s.a)(o.a.mark((function e(){var n,t,A,a,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=r.length,t=new Array(n),A=0;A<n;A++)t[A]=r[A];if(B.current){e.next=4;break}return e.next=4,E.apply(void 0,t);case 4:if(!j.current){e.next=6;break}return e.abrupt("return",(a=j.current).resume.apply(a,Object(i.a)(t||[])));case 6:return e.abrupt("return",void 0);case 7:case"end":return e.stop()}}),e)}))),[]),w=Object(l.useCallback)(Object(s.a)(o.a.mark((function e(){var n,A,a,r,s,c,l=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=l.length,A=new Array(n),a=0;a<n;a++)A[a]=l[a];if(r=p.current,t.manual&&O.current){e.next=6;break}return e.next=5,E.apply(void 0,Object(i.a)(A||[]));case 5:s=e.sent;case 6:if(p.current!==r){e.next=15;break}if(j.current=new b((function(){return w.apply(void 0,A)}),t.pollingInterval),!O.current||!t.manual){e.next=12;break}O.current=!1,e.next=15;break;case 12:return e.next=14,(c=j.current).resume.apply(c,Object(i.a)(A||[]));case 14:s=e.sent;case 15:return e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)}))),[t.pollingInterval,t.manual,E]),y=Object(l.useCallback)((function(){p.current+=1;for(var e=arguments.length,n=new Array(e),A=0;A<e;A++)n[A]=arguments[A];return t.pollingInterval?(t.manual||C(),w.apply(void 0,n)):E.apply(void 0,Object(i.a)(n||[]))}),[E,t.pollingInterval]),Q=Object(l.useCallback)((function(){p.current+=1,g((function(e){return u({},e,{error:new Error("canceled"),loading:!1})}))}),[]);return Object(l.useEffect)((function(){if(t.pollingInterval)w();else if(!t.manual){for(var e=arguments.length,n=new Array(e),A=0;A<e;A++)n[A]=arguments[A];E.apply(void 0,Object(i.a)(n||[]))}return function(){p.current+=1,C()}}),[t.manual,t.pollingInterval,E,w]),{loading:c.loading,error:c.error,data:c.data,cancel:Q,run:t.manual&&t.pollingInterval?Y:y,timer:{stop:C,resume:Y,pause:I}}}"undefined"!==typeof ReturnValue&&ReturnValue&&ReturnValue===Object(ReturnValue)&&Object.isExtensible(ReturnValue)&&Object.defineProperty(ReturnValue,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"ReturnValue",filename:"src/useAsync/index.ts"}}),j&&j===Object(j)&&Object.isExtensible(j)&&Object.defineProperty(j,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useAsync",filename:"src/useAsync/index.ts"}})}}]);